(this["webpackJsonplearning-foreign-language-website"]=this["webpackJsonplearning-foreign-language-website"]||[]).push([[0],{534:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"Button",(function(){return je})),a.d(n,"CreateButton",(function(){return be})),a.d(n,"LoginButton",(function(){return pe})),a.d(n,"SignUpButton",(function(){return xe}));var r=a(50),c=a.n(r),o=a(27),s=a(15);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(385);var i=a(18),l=a(685),u=a(533),d=a(366),j=a(17),b={darkBlue:{main:"#011526",light:"#0F2859",dark:"#051026"},brightBlue:{main:"#1C8CF6",light:"#359AF2",dark:"#0583F2"},mediumBlue:{main:"#143C8C",light:"#9CB0D9",dark:"#035AA6"},gray:{main:"#A2A1A1",shade100:"#EEEEF1",shade200:"#ECECEC",shade300:"#E4E4E4",shade400:"#C9CCD4",shade700:"#737373",shade900:"#262626"},white:{main:"#FFFFFF",shade50:"#F4F4F4",shade100:"#F2F2F2"}},p=b.darkBlue,x=b.brightBlue,h=b.mediumBlue,m=b.gray,g=b.white,O=Object(d.a)({palette:{background:{default:"#F4F6F8",paper:j.a.common.white},primary:{main:p.main,light:p.light,dark:p.dark},secondary:{main:x.main,light:x.light,dark:x.dark},tertiary:{main:h.main,light:h.light,dark:h.dark},customGray:{main:m.main,shade100:m.shade100,shade200:m.shade200,shade300:m.shade300,shade400:m.shade400,shade700:m.shade700,shade900:m.shade900},customWhite:{main:g.main,shade50:g.shade50,shade100:g.shade100}},shadows:["none","0 0 0 1px rgba(63,63,68,0.05), 0 1px 2px 0 rgba(63,63,68,0.15)","0 0 1px 0 rgba(0,0,0,0.31), 0 2px 2px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 3px 4px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 3px 4px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 6px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 6px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 8px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 5px 8px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 6px 12px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 7px 12px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 6px 16px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 7px 16px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 8px 18px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 9px 18px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 10px 20px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 11px 20px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 12px 22px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 13px 22px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 14px 24px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 16px 28px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 18px 30px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 20px 32px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 22px 34px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 24px 36px -8px rgba(0,0,0,0.25)"],typography:{h1:{fontWeight:500,fontSize:35,letterSpacing:"-0.24px"},h2:{fontWeight:500,fontSize:29,letterSpacing:"-0.24px"},h3:{fontWeight:500,fontSize:24,letterSpacing:"-0.06px"},h4:{fontWeight:500,fontSize:20,letterSpacing:"-0.06px"},h5:{fontWeight:500,fontSize:16,letterSpacing:"-0.05px"},h6:{fontWeight:500,fontSize:14,letterSpacing:"-0.05px"},overline:{fontWeight:500}}}),f=a(10),v=a(1),y=a.n(v),C=a(7),w=a(22),N=a(566),S=a(539),k=a(198),I=a(354),E=a.n(I),T=a(14),P=a.n(T),L=a(19),A=a(527),B=a(565),D=a(552),F=a(24),R=a.n(F),U="GET_ERRORS",z="GET_ALERT",W="GET_ALL_POSTS",M="GET_USER_POSTS",_="GET_FILTERED_POSTS",Y="GET_RELATED_POSTS",q="GET_POST",G="DELETE_POST",H="SET_CURRENT",V="GET_USER",X="GET_USERS",J="DELETE_USER",K="GET_ROLES",$="GET_CATEGORIES",Q="GET_CATEGORY",Z="DELETE_CATEGORY",ee="GET_COMMENTS",te="GET_LIKES",ae=function(e,t,a,n){return function(){var r=Object(L.a)(P.a.mark((function r(c){return P.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,R.a.post("/api/categories",e);case 3:n(!0),a(!1),t("/app/manage/categories"),r.next=13;break;case 8:r.prev=8,r.t0=r.catch(0),a(!1),c({type:U,payload:r.t0.response.data}),console.log(r.t0.response.data,r.t0.message);case 13:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}()},ne=function(){return function(){var e=Object(L.a)(P.a.mark((function e(t){var a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.a.get("/api/categories/all");case 3:a=e.sent,t({type:$,payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:U,payload:e.t0.response.data});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},re=function(e,t){return function(){var a=Object(L.a)(P.a.mark((function a(n){var r;return P.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,R.a.get("/api/categories/id/".concat(e));case 3:r=a.sent,n({type:Q,payload:r.data}),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(0),n({type:U,payload:a.t0.response.data}),t("/404");case 11:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()},ce=a(0),oe=function(e){return Object(ce.jsx)("img",Object(C.a)({alt:"Logo",src:"/static/logo.svg"},e))},se=a(670),ie=a(545),le=Object(se.a)((function(){return{}})),ue="/user/login",de="/user/register";function je(e){var t=e.text,a=e.size,n=e.color,r=e.variant,c=e.width,o=e.marginY,s=e.padding,i=e.paddingY,l=e.onClick,u=Object(w.a)(e,["text","size","color","variant","width","marginY","padding","paddingY","onClick"]),d=le();return Object(ce.jsx)(ie.a,Object(C.a)(Object(C.a)({variant:r||"contained",size:a||"medium",color:n||"secondary",onClick:l,sx:{width:c&&c,my:o||1,p:s||1,py:i}},u),{},{classes:{root:d.root,label:d.label},children:t}))}var be=function(e){var t=e.text,a=e.href,n=e.color,r=e.variant,c=e.width,o=e.marginY,s=(e.marginX,e.paddingY),i=Object(w.a)(e,["text","href","color","variant","width","marginY","marginX","paddingY"]);return Object(ce.jsx)(je,Object(C.a)({href:a,color:n,variant:r,width:c,marginY:o,paddingY:s,text:t},i))},pe=function(e){var t=Object.assign({},e);return Object(ce.jsx)(be,Object(C.a)({href:ue,text:"Login"},t))},xe=function(e){var t=Object.assign({},e);return Object(ce.jsx)(be,Object(C.a)({href:de,text:"Sign up"},t))},he=a(546),me=a(547),ge=a(548),Oe=a(553),fe=a(554);var ve=a(343),ye=a.n(ve),Ce=(a(410),a(555)),we={outlined:{width:"100%",border:0,borderRadius:0},button:{background:"rgba(255, 255, 255, 0)",border:"none",padding:1},container:{margin:10}},Ne=y.a.forwardRef((function(e,t){var a=e.value,n=e.onChange,r=Object(w.a)(e,["value","onChange"]);return Object(ce.jsx)(ye.a,Object(C.a)({ref:function(e){t(e?e.inputElement:null)},inputProps:{name:"phoneNumber",id:"phoneNumber"},inputStyle:we.outlined,buttonStyle:we.button,containerStyle:we.container,countryCodeEditable:!1,country:"cn",value:a,onChange:function(e,t,a,r){return n(function(e,t,a,n,r){return{target:{name:e,value:t,input:a,country:n,event:r}}}(a.target.name,r,e,t,a))}},r))}));function Se(e,t){var a=e.value,n=e.onChange,r=e.error,c=void 0===r?null:r,o=Object(w.a)(e,["value","onChange","error"]);return Object(ce.jsx)(Ce.a,Object(C.a)(Object(C.a)({fullWidth:!0,inputRef:t,value:a,onChange:n,variant:"outlined",label:"Mobile Number",InputLabelProps:{shrink:!0},InputProps:{inputComponent:Ne}},c&&{error:!0,helperText:c}),o))}var ke=y.a.forwardRef(Se);var Ie=a(344),Ee=a.n(Ie);function Te(e){var t=e.placeholder,a=e.searchText,n=e.setSearchText,r=Object(w.a)(e,["placeholder","searchText","setSearchText"]);return Object(ce.jsx)(Ee.a,Object(C.a)({value:a,onChange:function(e){console.log(e),n(e)},onRequestSearch:function(){return console.log("onRequestSearch")},onCancelSearch:function(){n("")},style:{margin:"0 auto",maxWidth:"75%"},placeholder:t||"Search"},r))}var Pe=a(345),Le=a.n(Pe),Ae=(a(517),Object(se.a)({textArea:{width:"100%","& .ql-editor":{height:"400px"},"& .ql-container":{borderRadius:"0 0 4px 4px"}},toolbar:{"& .ql-toolbar.ql-snow":{borderRadius:"4px 4px 0 0",background:"#fafafa"}},editorFocus:{border:"none","& .quill":{border:"none"},"& .ql-container":{boxShadow:"0 2px 4px 2px rgba(131, 202, 255, .5)"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(0, 0, 0, .1)"}},error:{"& .MuiOutlinedInput-notchedOutline, &:hover .MuiOutlinedInput-notchedOutline":{borderWidth:"2px"}}})),Be={toolbar:[["bold","italic","underline","strike","blockquote","code-block",{color:[]},{script:"sub"},{script:"super"},{direction:"rtl"}],[{header:[1,2,3,4,5,6]},{size:[]}],[{list:"ordered"},{list:"bullet"},{align:[]}],["link","image"]]},De=y.a.forwardRef((function(e,t){var a=e.name,n=e.value,r=e.onChange,c=e.onEditorFocus,o=e.onEditorBlur,s=Ae();return Object(ce.jsx)("div",{className:"".concat(s.textArea," ").concat(s.toolbar),children:Object(ce.jsx)(Le.a,{ref:function(e){t(e?e.inputElement:null)},name:a,value:n,modules:Be,theme:"snow",placeholder:"Type your content here",onChange:function(e,t,n){"user"===n&&r(function(e,t){return{target:{name:e,value:t}}}(a,e))},onFocus:c,onBlur:o})})}));var Fe=a(368),Re=a(537),Ue=y.a.forwardRef((function(e,t){var a=e.fileObjects,n=e.onAdd,r=e.onDelete,c=Object(v.useState)({open:!1,message:"",severity:""}),o=Object(f.a)(c,2),s=o[0],i=o[1];return Object(ce.jsxs)("div",{style:{width:"100%",padding:20,position:"relative"},children:[Object(ce.jsx)(Fe.a,{ref:function(e){t(e?e.inputElement:null)},dropzoneText:"Drag and drop an Image here or click to upload",acceptedFiles:["image/*"],maxFileSize:4e6,fileObjects:a,onAdd:n,onDelete:r,previewGridProps:{container:{maxWidth:"100%"},item:{maxWidth:"100%"}},getFileRemovedMessage:function(){return"Image successfully deleted"},getFileAddedMessage:function(){return"Image successfully added"},onAlert:function(e,t){return i(Object(C.a)(Object(C.a)({},s),{},{open:!0,message:e,severity:t}))},showPreviewsInDropzone:!0,showFileNames:!0,showAlerts:!1}),s.open&&Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsxs)(Re.a,{onClose:function(){return i({})},severity:s.severity,variant:"filled",sx:{position:"absolute",top:10},children:[s.message,Object(ce.jsx)("span",{style:{display:"none"},children:setTimeout((function(){return i({})}),3e3)})]})})]})})),ze=function(e,t){return{target:{name:e,value:t}}};var We={Buttons:n,Select:function(e){var t=e.name,a=e.variant,n=e.label,r=e.value,c=e.error,o=void 0===c?null:c,s=e.onChange,i=e.options,l=Object(w.a)(e,["name","variant","label","value","error","onChange","options"]);return Object(ce.jsxs)(he.a,Object(C.a)(Object(C.a)({variant:a||"outlined"},o&&{error:!0}),{},{sx:{width:"100%"},children:[Object(ce.jsx)(me.a,{children:n}),Object(ce.jsx)(ge.a,Object(C.a)(Object(C.a)({label:n,name:t,value:r,onChange:s},l),{},{children:i.map((function(e){return Object(ce.jsx)(Oe.a,{value:e.name,children:e.name},e.id)}))})),o&&Object(ce.jsx)(fe.a,{children:o})]}))},PhoneInput:ke,Input:function(e){var t=e.id,a=e.name,n=e.variant,r=e.label,c=e.value,o=e.error,s=void 0===o?null:o,i=e.onChange,l=Object(w.a)(e,["id","name","variant","label","value","error","onChange"]);return Object(ce.jsx)(Ce.a,Object(C.a)(Object(C.a)({fullWidth:!0,variant:n||"outlined",label:r,id:t,name:a,value:c,onChange:i},s&&{error:!0,helperText:s}),l))},SearchBar:Te,TextEditor:function(e){var t=Ae(),a=e.name,n=e.value,r=e.onChange,c=e.error,o=void 0===c?null:c,s=Object(v.useState)(!1),i=Object(f.a)(s,2),l=i[0],u=i[1];return Object(ce.jsx)(Ce.a,Object(C.a)({className:"".concat(o&&t.error||l&&t.editorFocus),InputProps:{inputComponent:De,inputProps:{name:a,value:n,onChange:r,onEditorFocus:function(){return u(!0)},onEditorBlur:function(){return u(!1)}}}},o&&{error:!0,helperText:o}))},ImageDropzone:function(e){var t,a=e.name,n=e.onAdd,r=e.onDelete,c=e.imgData,o=e.error,s=void 0===o?null:o,i=Object(w.a)(e,["name","onAdd","onDelete","imgData","error"]),l=Object(v.useState)([]),u=Object(f.a)(l,2),d=u[0],j=u[1],b=Object(v.useState)(""),p=Object(f.a)(b,2),x=p[0],h=p[1];return Object(ce.jsx)(Ce.a,Object(C.a)(Object(C.a)({sx:(t=c||x,{dropzone:{"& .MuiInputBase-root":{background:"linear-gradient(rgba(255,255,255,.3), rgba(255,255,255,.3)), url(".concat(t,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},"& > * .MuiDropzoneArea-root":{backgroundColor:"rgba(255, 255, 255, 0.8)",backgroundImage:'url("https://www.transparenttextures.com/patterns/60-lines.png")'},"& > * .MuiGrid-root>.MuiGrid-item":{width:"100%",margin:"auto"},"& > * .MuiDropzonePreviewList-removeButton":{top:"130px"}}}).dropzone,fullWidth:!0,required:!0,name:a,variant:"outlined",label:"Cover Image",InputLabelProps:{shrink:!0},InputProps:{inputComponent:Ue,inputProps:{fileObjects:d,onAdd:function(e){console.log("onAdd",e),j(e),h(e[0].data),n(ze(a,e[0].data))},onDelete:function(e){j([]),h(""),r(ze(a,"")),console.log("onDelete",e)}}}},s&&{error:!0,helperText:s}),i))}},Me=a(677),_e=a(676),Ye=a(678),qe=a(679),Ge=a(680),He=a(681),Ve=a(682),Xe={mainNav:[{href:"/home",icon:_e.a,title:"Home"}],accountTopNav:[{href:"",icon:Me.a,isIconButton:!0,title:"profileAccount",subNav:[{href:"/app/account",icon:Ye.a,title:"Profile"},{action:"logout",icon:qe.a,title:"Logout"}]}],userNav:{user:[{href:"/app/account",icon:Ye.a,title:"Profile"},{action:"logout",icon:qe.a,title:"Logout"}],admin:[{href:"/app/admin/posts/myPosts",icon:Ge.a,title:"My Posts"}],superAdmin:[{href:"/app/manage/dashboard",icon:He.a,title:"Dashboard"},{href:"/app/manage",icon:Ve.a,title:"Manage",subNav:[{id:1,href:"/app/manage/users",title:"Users"},{id:2,href:"/app/manage/posts",title:"Posts"},{id:3,href:"/app/manage/categories",title:"Categories"}]}]}},Je=a(214),Ke=a(683),$e=a(684),Qe=function(e){e?R.a.defaults.headers.common.Authorization=e:delete R.a.defaults.headers.common.Authorization},Ze=a(155),et=function(e,t,a,n){return function(){var r=Object(L.a)(P.a.mark((function r(c){return P.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,R.a.post("/api/users/register",e);case 3:a&&n&&(n(!0),a(!1)),c({type:U,payload:{}}),t("/user/login"),r.next=12;break;case 8:r.prev=8,r.t0=r.catch(0),a&&a(!1),c({type:U,payload:r.t0.response.data});case 12:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}()},tt=function(){return function(e){localStorage.removeItem("jwtToken"),Qe(!1),e({type:H,payload:{}})}},at=function(){return function(e){e({type:U,payload:{}})}};var nt=Object(s.b)(null,{logout:tt})((function(e){var t=e.menuItem,a=Object(i.g)(),n=Object(v.useState)(null),r=Object(f.a)(n,2),c=r[0],o=r[1],s=function(e){o(e.currentTarget)},l=function(){o(null)},u=Boolean(c),d=function(t){return t.subNav?s:function(){t.href&&a(t.href),"logout"===t.action&&(e.logout(),window.location.href="/user/login"),t.name&&a("/categories/".concat(t.name)),l()}};return Object(ce.jsxs)("div",{children:[Object(ce.jsxs)(Oe.a,{"aria-controls":u?t.title:null,"aria-haspopup":"true",onClick:d(t),children:[t.isIconButton?Object(ce.jsx)(t.icon,{}):t.title,t.isIconButton?null:t.subNav&&(u?Object(ce.jsx)(Ke.a,{}):Object(ce.jsx)($e.a,{}))]}),t.subNav&&Object(ce.jsx)(Je.a,{id:t.title,anchorEl:c,keepMounted:!0,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},open:u,onClose:l,children:t.subNav.map((function(e){return Object(ce.jsx)(Oe.a,{onClick:d(e),children:e.title||e.name},e.title||e.name)}))})]})})),rt=a(156),ct=a.n(rt),ot=[{href:"/categories",icon:ct.a,title:"Categories",subNav:[]}];var st=Object(s.b)((function(e){return{categories:e.category.categories}}),{getCategories:ne})((function(e){var t=e.children,a=e.isLoggedIn,n=e.categories;return Object(v.useEffect)((function(){Object(L.a)(P.a.mark((function t(){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getCategories();case 2:ot[0].subNav=n;case 3:case"end":return t.stop()}}),t)})))()}),[n.length]),Object(ce.jsxs)(B.a,{children:[Object(ce.jsx)(o.b,{to:"/",children:Object(ce.jsx)(oe,{})}),Object(ce.jsx)(A.a,{sx:{flexGrow:1}}),Object(ce.jsxs)(S.a,{mdDown:!0,children:[Object(ce.jsxs)(D.a,{sx:{display:"flex"},children:[Xe.mainNav.map((function(e){return Object(ce.jsx)(nt,{menuItem:e},e.title)})),ot&&ot.map((function(e){return Object(ce.jsx)(nt,{menuItem:e},e.title)}))]}),a?" ":Object(ce.jsxs)(A.a,{children:[Object(ce.jsx)(We.Buttons.LoginButton,{color:"secondary",variant:"outlined",size:"small",padding:.4,sx:{color:"white",mx:1}}),Object(ce.jsx)(We.Buttons.SignUpButton,{color:"secondary",size:"small",padding:.5,sx:{mx:1}})]}),a&&Xe.accountTopNav.map((function(e){return Object(ce.jsx)(nt,{menuItem:e},e.title)}))]}),t]})})),it=function(e){var t=e.onMobileNavOpen,a=e.isLoggedIn,n=Object(w.a)(e,["onMobileNavOpen","isLoggedIn"]);return Object(ce.jsx)(N.a,Object(C.a)(Object(C.a)({elevation:0},n),{},{children:Object(ce.jsx)(st,{isLoggedIn:a,children:Object(ce.jsx)(S.a,{mdUp:!0,children:Object(ce.jsx)(k.a,{color:"inherit",onClick:t,children:Object(ce.jsx)(E.a,{})})})})}))},lt=a(26),ut=a(544),dt=a(557),jt=a(570),bt=a(571),pt=a(158),xt=a(567),ht=a(568),mt=a(569),gt=function(e){return{color:e.palette.secondary.dark}},Ot=Object(se.a)((function(e){return{root:{display:"flex",color:e.palette.text.secondary,fontWeight:"medium",justifyContent:"flex-start",letterSpacing:0,textTransform:"none",width:"100%","&:hover, &:hover .MuiListItemIcon-root":gt(e),"& .MuiListItemIcon-root":{marginRight:1,minWidth:30}},subMenu:{paddingLeft:e.spacing(2.5),paddingRight:e.spacing(2.5),"& .MuiListItem-root":{paddingLeft:e.spacing(1.5),paddingTop:e.spacing(.4),paddingBottom:e.spacing(.4)}},active:Object(C.a)(Object(C.a)({},gt(e)),{},{"& .MuiListItemIcon-root":gt(e)})}})),ft=Object(s.b)(null,{logout:tt})((function(e){var t=e.menuItem,a=Ot(),n=Object(i.g)(),r=Object(i.f)(),c=Object(v.useState)(!0),o=Object(f.a)(c,2),s=o[0],l=o[1],u=function(){l(!s)},d=function(e){return r.pathname===e.href&&a.active},j=function(r){var c,o=r.itemObj,s=r.children,i=Object(w.a)(r,["itemObj","children"]);return Object(ce.jsxs)(pt.b,Object(C.a)(Object(C.a)({button:!0,onClick:(c=o,c.subNav?u:function(){c.href&&n(c.href),"logout"===c.action&&(e.logout(),window.location.href="/user/login"),c.name&&n("/categories/".concat(c.name))}),className:"".concat(a.root," ").concat(d(o))},i),{},{children:[Object(ce.jsx)(xt.a,{children:o.icon&&Object(ce.jsx)(t.icon,{size:"20"})}),Object(ce.jsx)(ht.a,{primary:o.title||o.name}),s]}))};return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(j,{itemObj:t,children:t.subNav&&(s?Object(ce.jsx)(Ke.a,{}):Object(ce.jsx)($e.a,{}))}),t.subNav&&t.subNav.map((function(e){return Object(ce.jsx)(mt.a,{in:s,timeout:"auto",unmountOnExit:!0,children:Object(ce.jsx)(D.a,{component:"div",disablePadding:!0,className:a.subMenu,children:Object(ce.jsx)(j,{itemObj:e})})},e.id)}))]})})),vt=function(e){var t=e.onMobileClose,a=e.openMobile,n=e.isLoggedIn,r=e.role,c=e.user,s=e.categories,l=e.type,u=e.children,d=Object(i.f)();Object(v.useEffect)((function(){a&&t&&t()}),[d.pathname]),Object(v.useEffect)((function(){Object(L.a)(P.a.mark((function t(){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getCategories();case 2:ot[0].subNav=s;case 3:case"end":return t.stop()}}),t)})))()}),[s.length]);var j=function(e){return e.map((function(e){return Object(ce.jsx)(ft,{menuItem:e},e.title)}))},b=Object(ce.jsxs)(A.a,{sx:{display:"flex",flexDirection:"column",height:"100%"},children:[n&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsxs)(A.a,{sx:{alignItems:"center",display:"flex",flexDirection:"column",p:2},children:[Object(ce.jsx)(ut.a,{component:o.b,alt:c.firstName,src:c.avatarImg,sx:{cursor:"pointer",width:64,height:64,mb:1},to:"/app/account"}),Object(ce.jsx)(dt.a,{color:"textPrimary",variant:"h5",children:c.fullName}),Object(ce.jsx)(dt.a,{color:"textSecondary",variant:"caption",style:{fontSize:"0.6rem"},children:c.roleName})]}),Object(ce.jsx)(jt.a,{})]}),Object(ce.jsxs)(A.a,{sx:{p:2},children:[Object(ce.jsxs)(D.a,{children:[j(Xe.mainNav),j(ot),n&&j([].concat(Object(lt.a)("USER"!==r?Xe.userNav.admin:[]),Object(lt.a)("SUPER_ADMIN"===r?Xe.userNav.superAdmin:[]),Object(lt.a)(Xe.userNav.user)))]}),"dashboard"!==l&&(n?" ":Object(ce.jsxs)(A.a,{children:[Object(ce.jsx)(We.Buttons.LoginButton,{variant:"outlined",width:"100%",marginY:2}),Object(ce.jsx)(We.Buttons.SignUpButton,{width:"100%",marginY:2})]}))]})]});return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(S.a,{lgUp:!0,children:Object(ce.jsx)(bt.a,{anchor:"left",onClose:t,open:a,variant:"temporary",PaperProps:{sx:{width:256}},children:b})}),"dashboard"===l&&Object(ce.jsx)(S.a,{lgDown:!0,children:Object(ce.jsx)(bt.a,{anchor:"left",open:!0,variant:"persistent",PaperProps:{sx:{width:256,top:64,height:"calc(100% - 64px)"}},children:b})}),u]})};vt.defaultProps={onMobileClose:function(){},openMobile:!1};var yt=Object(s.b)((function(e){return{user:e.security.user,categories:e.category.categories}}),{getCategories:ne})(vt),Ct=a(3),wt=a(6),Nt=function(e){return Object(wt.a)("div")((function(t){var a=t.theme.palette.background;return{backgroundColor:Object.keys(a).includes(e)?a[e]:e,display:"flex",height:"100%",overflow:"hidden",width:"100%"}}))},St=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"lg",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=Object.assign({},t);return Object(wt.a)("div")((function(t){var n,r=t.theme;return n={display:"flex",flex:"1 1 auto",overflow:"hidden",paddingTop:64},Object(Ct.a)(n,r.breakpoints.down("sm"),{paddingTop:55}),Object(Ct.a)(n,r.breakpoints.up(e),Object(C.a)({},a)),n}))},kt=Nt("default"),It=Nt("default"),Et=St("lg",{paddingLeft:256}),Tt=St(),Pt=Object(wt.a)("div")({display:"flex",flex:"1 1 auto",overflow:"hidden"}),Lt=Object(wt.a)("div")({flex:"1 1 auto",height:"100%",overflow:"auto"}),At=Object(s.b)((function(e){return{security:e.security}}))((function(e){var t=e.security,a=Object(v.useState)(!1),n=Object(f.a)(a,2),r=n[0],c=n[1];console.log("DashboardLayoutSecurity",t);var o,s=t.validToken,l=t.user;return s&&l?(o=!0,console.log(" user is Authenticated")):(o=!1,console.log(" useris not Authenticated")),Object(ce.jsxs)(kt,{children:[Object(ce.jsx)(it,{onMobileNavOpen:function(){return c(!0)},isLoggedIn:o}),Object(ce.jsx)(yt,{onMobileClose:function(){return c(!1)},openMobile:r,isLoggedIn:o,role:l.roleName,type:"dashboard"}),Object(ce.jsx)(Et,{children:Object(ce.jsx)(Pt,{children:Object(ce.jsx)(Lt,{children:Object(ce.jsx)(i.b,{})})})})]})})),Bt=Object(s.b)((function(e){return{security:e.security}}))((function(e){var t=e.security,a=Object(v.useState)(!1),n=Object(f.a)(a,2),r=n[0],c=n[1];console.log("MainLayoutSecurity",t);var o,s=t.validToken,l=t.user;return s&&l?(o=!0,console.log(" user is Authenticated")):(o=!1,console.log(" useris not Authenticated")),Object(ce.jsxs)(It,{children:[Object(ce.jsx)(it,{onMobileNavOpen:function(){return c(!0)},isLoggedIn:o}),Object(ce.jsx)(yt,{onMobileClose:function(){return c(!1)},openMobile:r,isLoggedIn:o,role:l.roleName}),Object(ce.jsx)(Tt,{children:Object(ce.jsx)(Pt,{children:Object(ce.jsx)(Lt,{children:Object(ce.jsx)(i.b,{})})})})]})})),Dt=a(23),Ft=a(574),Rt=a(556),Ut=function(){return Object(ce.jsx)(A.a,{sx:{alignItems:"center",display:"flex",flexDirection:"column"},children:Object(ce.jsx)(dt.a,{component:"h1",variant:"h2",color:"primary",children:"PROFILE \xa0 UPDATE"})})},zt=a(540),Wt=a(573),Mt=a(575),_t=a(576),Yt=a(572),qt=a(96),Gt={wrapper:{position:"relative"},buttonSuccess:function(e){return{backgroundColor:e&&qt.a[500],"&:hover":{backgroundColor:e&&qt.a[700]}}},buttonProgress:{color:"#2196F3",position:"absolute",top:"20%",left:"40%"}},Ht=function(e){return{container:{background:e.palette.background.paper,borderRadius:e.shape.borderRadius},alignCenter:{display:"flex",flexDirection:"column",alignItems:"center"},paper:{margin:e.spacing(4,1,6)},logo:{marginBottom:e.spacing(3),height:e.spacing(6)},form:{width:"100%",marginTop:e.spacing(5.5)},submit:{marginTop:e.spacing(6)}}};function Vt(e){var t=Object(v.useState)(e),a=Object(f.a)(t,2),n=a[0],r=a[1],c=Object(v.useState)({}),o=Object(f.a)(c,2),s=o[0],i=o[1];return{values:n,setValues:r,formErrors:s,setFormErrors:i,handleInputChange:function(e){var t=e.target,a=t.name,c=t.value;r(Object(C.a)(Object(C.a)({},n),{},Object(Ct.a)({},a,c)))},resetForm:function(){r(e),i({})}}}var Xt=Object(se.a)((function(e){return{root:{"& .MuiFormControl-root":{margin:e.spacing(1)}}}}));function Jt(e){var t=Xt(),a=e.children,n=Object(w.a)(e,["children"]);return Object(ce.jsx)("form",Object(C.a)(Object(C.a)({className:t.root,autoComplete:"off",noValidate:!0},n),{},{children:a}))}var Kt=a(358),$t=a.n(Kt),Qt=a(558),Zt=a(357),ea=a.n(Zt),ta=function(e,t,a){return function(){var n=Object(L.a)(P.a.mark((function n(r){var c,o,s,i,l,u,d,j;return P.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,"832736368472616","i_57zL3Iwl8YHi4qpxteo3fdsmI",o="".concat(t),s=Date.now(),i="languagelearningBlog",l="public_id=".concat(o,"&timestamp=").concat(s,"&upload_preset=").concat(i),u=ea()(l+"i_57zL3Iwl8YHi4qpxteo3fdsmI"),(d=new FormData).append("api_key","832736368472616"),d.append("file",e),d.append("upload_preset",i),d.append("public_id",o),d.append("timestamp",s),d.append("signature",u),delete(j=R.a.create()).defaults.headers.common.Authorization,n.next=19,j.post("https://api.cloudinary.com/v1_1/xclusivedev/image/upload",d);case 19:c=n.sent,a&&a(!1),console.log(c),n.next=29;break;case 24:n.prev=24,n.t0=n.catch(0),a&&a(!1),r({type:U,payload:n.t0.response}),console.log(n.t0.response.data.message);case 29:return n.abrupt("return",c.data.secure_url);case 30:case"end":return n.stop()}}),n,null,[[0,24]])})));return function(e){return n.apply(this,arguments)}}()},aa=Object(se.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"},iconButton:{height:20,width:35},fabProgress:{color:qt.a[400],position:"absolute",top:-11,left:5,zIndex:1}}})),na=function(e,t){return{target:{name:e,value:t}}};var ra=Object(s.b)(null,{uploadImage:ta})((function(e){var t,a=e.onChange,n=e.name,r=e.userId,c=aa(),o=y.a.useState(!1),s=Object(f.a)(o,2),i=s[0],l=s[1],u=function(){var a=Object(L.a)(P.a.mark((function a(n){var c,o,s;return P.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("getImageUrl func runned"),console.log("Files",n.target.files[0]),i||l(!0),c=n.target.files[0],o="/users/avatars/user_".concat(r),a.next=7,e.uploadImage(c,o,l);case 7:s=a.sent,t=s;case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return Object(ce.jsx)("div",{className:c.root,children:Object(ce.jsxs)("label",{htmlFor:"icon-button-file",children:[Object(ce.jsx)("input",{name:n,accept:"image/*",className:c.input,id:"icon-button-file",type:"file",onChange:function(){var e=Object(L.a)(P.a.mark((function e(r){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(r);case 2:a(na(n,t));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Object(ce.jsxs)("div",{className:Gt.wrapper,children:[Object(ce.jsx)(Qt.a,{size:"small",className:Object(C.a)({},c.iconButton),color:"secondary","aria-label":"upload picture",component:"span",children:Object(ce.jsx)($t.a,{fontSize:"small"})}),i&&Object(ce.jsx)(Yt.a,{size:43,className:c.fabProgress})]})]})})})),ca=function(){return function(){var e=Object(L.a)(P.a.mark((function e(t){var a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.get("/api/users/all");case 2:a=e.sent,t({type:X,payload:a.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},oa=function(e){return function(){var t=Object(L.a)(P.a.mark((function t(a){var n;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,R.a.get("/api/users/id/".concat(e));case 3:n=t.sent,a({type:V,payload:n.data}),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},sa=function(e,t,a,n,r){return function(){var c=Object(L.a)(P.a.mark((function c(o){return P.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,R.a.patch("/api/users/update/".concat(e),a);case 3:console.log("update successfull"),o({type:U,payload:{}}),r(!0),n(!1),window.location.href="SUPER_ADMIN"===t?"/app/manage/users":"/app/account",c.next=15;break;case 10:c.prev=10,c.t0=c.catch(0),n(!1),401===c.t0.response.status?(o({type:H,payload:{}}),window.location.href="/user/login"):o({type:U,payload:c.t0.response.data}),console.log(c.t0.response.data,c.t0.response);case 15:case"end":return c.stop()}}),c,null,[[0,10]])})));return function(e){return c.apply(this,arguments)}}()},ia=Object(se.a)((function(e){return Ht(e)})),la={padding:"13px 0",boxShadow:"0 1px 4px 2px rgba(33, 159, 243, .3)"},ua=[{id:"male",name:"Male"},{id:"female",name:"Female"}],da={id:"",firstName:"",lastName:"",username:"",gender:ua[0].name,phoneNumber:"",avatarImg:"",email:""},ja=Object(s.b)((function(e){return{userId:e.security.user.id,role:e.security.user.roleName,user:e.user.user,errors:e.errors}}),{getUser:oa,updateUser:sa})((function(e){var t=e.user,a=e.role,n=e.userId,r=e.errors,c=ia(),o=Object(v.useState)(!1),s=Object(f.a)(o,2),i=s[0],l=s[1],u=Object(v.useState)(!1),d=Object(f.a)(u,2),j=d[0],b=d[1],p=Vt(da),x=p.values,h=p.setValues,m=p.formErrors,g=p.setFormErrors,O=p.handleInputChange;Object(v.useEffect)((function(){g(r)}),[r]),Object(v.useEffect)((function(){e.getUser(n)}),[n]),Object(v.useEffect)((function(){h(Object(C.a)(Object(C.a)({},x),t))}),[t]);var y=function(){return Object(ce.jsx)(zt.a,{badgeContent:Object(ce.jsx)(ra,{name:"avatarImg",userId:n,onChange:O}),overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},children:Object(ce.jsx)(ut.a,{alt:x.username,src:x.avatarImg,sx:{height:90,width:90}})})};return Object(ce.jsx)(Jt,{className:c.form,onSubmit:function(t){t.preventDefault(),i||(b(!1),l(!0));var r=x.phoneNumber;x.phoneNumber=r.replace(/-| /gi,""),console.log(x.phoneNumber);var c={id:x.id,firstName:x.firstName,lastName:x.lastName,username:x.username,gender:x.gender,phoneNumber:x.phoneNumber,roleName:x.roleName,avatarImg:x.avatarImg,email:x.email};e.updateUser(n,a,c,l,b)},sx:{px:4},children:Object(ce.jsxs)(Wt.a,{sx:{px:2,pt:10,boxShadow:"".concat("-1px -1px 10px 2px rgba(0, 0, 0, 0.25)"),position:"relative",overflow:"inherit"},children:[Object(ce.jsx)(Ft.a,{sx:{position:"absolute",left:0,top:-40,width:"100%",display:"flex",placeContent:"center",margin:"auto"},children:Object(ce.jsx)(y,{})}),Object(ce.jsx)(Mt.a,{}),Object(ce.jsxs)(_t.a,{children:[Object(ce.jsx)(Rt.a,{sx:{display:"none"},children:Object(ce.jsx)(We.Input,{required:!0,disabled:!0,name:"userId",id:"userId",label:"userId",type:"hidden",value:"".concat(x.id)})}),Object(ce.jsxs)(Rt.a,{container:!0,spacing:4,children:[Object(ce.jsx)(Rt.a,{item:!0,xs:12,md:6,children:Object(ce.jsx)(We.Input,{autoFocus:!0,required:!0,disabled:!0,variant:"filled",name:"firstName",id:"firstName",label:"First Name",autoComplete:"fname",error:m.firstName,value:x.firstName,onChange:O})}),Object(ce.jsx)(Rt.a,{item:!0,xs:12,md:6,children:Object(ce.jsx)(We.Input,{disabled:!0,variant:"filled",name:"lastName",id:"lastName",label:"Last Name",autoComplete:"lname",error:m.lastName,value:x.lastName,onChange:O})}),Object(ce.jsx)(Rt.a,{item:!0,xs:12,md:6,children:Object(ce.jsx)(We.Input,{required:!0,name:"username",id:"username",label:"Username",autoComplete:"uname",error:m.username,value:x.username,onChange:O})}),Object(ce.jsx)(Rt.a,{item:!0,xs:12,md:6,children:Object(ce.jsx)(We.Select,{required:!0,disabled:!0,name:"gender",label:"Gender",value:x.gender,options:ua,onChange:O,error:m.gender})}),Object(ce.jsx)(Rt.a,{item:!0,xs:12,md:6,children:Object(ce.jsx)(We.Input,{required:!0,name:"email",id:"email",label:"Email Address",autoComplete:"email",error:m.email,value:x.email,onChange:O})}),Object(ce.jsx)(Rt.a,{item:!0,xs:12,md:6,children:Object(ce.jsx)(We.PhoneInput,{value:x.phoneNumber,onChange:O,error:m.phoneNumber})}),Object(ce.jsx)(Rt.a,{container:!0,item:!0,xs:12,children:Object(ce.jsxs)(Rt.a,{container:!0,sx:Object(C.a)(Object(C.a)({},Gt.wrapper),{},{my:4}),children:[Object(ce.jsx)(We.Buttons.Button,{sx:Object(C.a)(Object(C.a)({},la),Gt.buttonSuccess(j)),text:"UPDATE",marginY:6,paddingY:1.5,fullWidth:!0,size:"large",type:"submit",disabled:i}),i&&Object(ce.jsx)(Yt.a,{size:25,sx:Gt.buttonProgress})]})})]})]})]})})})),ba=function(){return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(Dt.a,{children:Object(ce.jsx)("title",{children:"Profile | Language Learning Blog"})}),Object(ce.jsx)(A.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:6},children:Object(ce.jsx)(Ft.a,{maxWidth:"md",children:Object(ce.jsxs)(Rt.a,{container:!0,spacing:5,direction:"column",justify:"center",alignItems:"center",children:[Object(ce.jsx)(Rt.a,{item:!0,children:Object(ce.jsx)(Ut,{})}),Object(ce.jsx)(Rt.a,{item:!0,children:Object(ce.jsx)(ja,{})})]})})})]})},pa=a(97),xa=a.n(pa),ha=a(98),ma=a.n(ha),ga=a(577),Oa=a(578),fa=a(579),va=a(580),ya=a(581),Ca=a(538),wa=a(99),Na=a.n(wa),Sa=a(72),ka=a.n(Sa),Ia=Object(s.b)(null,{deleteUser:function(e){return function(){var t=Object(L.a)(P.a.mark((function t(a){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!window.confirm("Are you sure you want to delete this user")){t.next=6;break}return t.next=4,R.a.delete("/api/users/id/".concat(e));case 4:a({type:J,payload:e}),a({type:z,payload:{message:"Deleted succesfully",type:"success"}});case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a({type:U,payload:t.t0.response.data});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.users,a=e.searchText,n=Object(v.useState)(10),r=Object(f.a)(n,2),c=r[0],s=r[1],i=Object(v.useState)(0),l=Object(f.a)(i,2),u=l[0],d=l[1];return Object(ce.jsxs)(Wt.a,{children:[Object(ce.jsx)(ma.a,{children:Object(ce.jsx)(A.a,{sx:{minWidth:1050},children:Object(ce.jsxs)(ga.a,{children:[Object(ce.jsx)(Oa.a,{children:Object(ce.jsxs)(fa.a,{children:[Object(ce.jsx)(va.a,{children:"Name"}),Object(ce.jsx)(va.a,{children:"Email"}),Object(ce.jsx)(va.a,{children:"Role"}),Object(ce.jsx)(va.a,{children:"Registration date"}),Object(ce.jsx)(va.a,{align:"center",children:"Actions"})]})}),Object(ce.jsx)(ya.a,{children:t.slice(u*c,u*c+c).map((function(t){return(t.email.toLowerCase().includes(a.toLowerCase())||t.username.toLowerCase().includes(a.toLowerCase())||t.roleName.toLowerCase().includes(a.toLowerCase()))&&Object(ce.jsxs)(fa.a,{hover:!0,children:[Object(ce.jsx)(va.a,{children:Object(ce.jsxs)(A.a,{sx:{alignItems:"center",display:"flex"},children:[Object(ce.jsx)(ut.a,{alt:t.firstName,src:t.avatarImg,sx:{mr:2}}),Object(ce.jsx)(dt.a,{color:"textPrimary",variant:"body1",children:t.fullName})]})}),Object(ce.jsx)(va.a,{children:t.email}),Object(ce.jsx)(va.a,{children:t.roleName}),Object(ce.jsx)(va.a,{children:xa()(t.registered_At).format("DD/MM/YYYY")}),Object(ce.jsxs)(va.a,{align:"center",children:[Object(ce.jsx)(o.b,{to:"/app/manage/users/updateUser/".concat(t.id),children:Object(ce.jsx)(k.a,{style:{marginRight:3},children:Object(ce.jsx)(Na.a,{color:"secondary"})})}),Object(ce.jsx)(k.a,{style:{marginLeft:3},onClick:function(){return a=t.id,void e.deleteUser(a);var a},children:Object(ce.jsx)(ka.a,{color:"error"})})]})]},t.id)}))})]})})}),Object(ce.jsx)(Ca.a,{component:"div",count:t.length,onPageChange:function(e,t){d(t)},onRowsPerPageChange:function(e){s(e.target.value)},page:u,rowsPerPage:c,rowsPerPageOptions:[5,10,25]})]})})),Ea=function(e){var t=e.searchText,a=e.setSearchText,n=Object(w.a)(e,["searchText","setSearchText"]);return Object(ce.jsxs)(A.a,Object(C.a)(Object(C.a)({},n),{},{children:[Object(ce.jsx)(A.a,{sx:{display:"flex",justifyContent:"flex-end"},children:Object(ce.jsx)(We.Buttons.CreateButton,{href:"/app/manage/users/adduser",text:"ADD NEW USER"})}),Object(ce.jsx)(A.a,{sx:{mt:3},children:Object(ce.jsx)(We.SearchBar,{placeholder:"Search user",searchText:t,setSearchText:a})})]}))},Ta=a(560),Pa=a(65),La=a(359),Aa={message:"",type:""};var Ba={category:{},categories:[],totalCount:0};var Da={comments:[],comment:{}};var Fa={};var Ra={likes:[],like:{},totalCount:0};var Ua={posts:[],post:{},relatedPosts:[],totalCount:0};var za={roles:[]};var Wa={validToken:!1,user:{}},Ma=function(e){return!!e};var _a={users:[],user:{},totalCount:0};var Ya,qa=Object(Pa.b)({errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return t.payload;default:return e}},alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Aa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:return Object(C.a)(Object(C.a)({},e),{},{message:t.payload.message,type:t.payload.type});default:return e}},post:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ua,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:return Object(C.a)(Object(C.a)({},e),{},{posts:t.payload,totalCount:e.posts.length});case M:return Object(C.a)(Object(C.a)({},e),{},{posts:t.payload});case _:return Object(C.a)(Object(C.a)({},e),{},{posts:t.payload,totalCount:e.posts.length});case Y:return Object(C.a)(Object(C.a)({},e),{},{relatedPosts:t.payload});case q:return Object(C.a)(Object(C.a)({},e),{},{post:t.payload});case G:return Object(C.a)(Object(C.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.payload}))});default:return e}},security:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:return Object(C.a)(Object(C.a)({},e),{},{validToken:Ma(t.payload),user:t.payload});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_a,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X:return Object(C.a)(Object(C.a)({},e),{},{users:t.payload,totalCount:e.users.length});case V:return Object(C.a)(Object(C.a)({},e),{},{user:t.payload});case J:return Object(C.a)(Object(C.a)({},e),{},{users:e.users.filter((function(e){return e.id!==t.payload}))});default:return e}},role:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:za,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:return Object(C.a)(Object(C.a)({},e),{},{roles:t.payload});default:return e}},category:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ba,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:return Object(C.a)(Object(C.a)({},e),{},{categories:t.payload,totalCount:e.categories.length});case Q:return Object(C.a)(Object(C.a)({},e),{},{category:t.payload});case Z:return Object(C.a)(Object(C.a)({},e),{},{categories:e.categories.filter((function(e){return e.id!==t.payload}))});default:return e}},comment:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Da,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee:return Object(C.a)(Object(C.a)({},e),{},{comments:t.payload});default:return e}},like:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ra,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te:return Object(C.a)(Object(C.a)({},e),{},{likes:t.payload,totalCount:t.payload.length});default:return e}}}),Ga={},Ha=[La.a],Va={actionSanitizer:function(e){return"GET_POST"===e.type&&e.post?Object(C.a)(Object(C.a)({},e),{},{post:"<<LONG_BLOB>>"}):e},stateSanitizer:function(e){return e.post?Object(C.a)(Object(C.a)({},e),{},{post:"<<LONG_BLOB>>"}):e}},Xa=window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(Va);window.navigator.userAgent.includes("Chrome")&&Xa?(console.log("ChromeStore"),Ya=Object(Pa.d)(qa,Ga,Object(Pa.c)(Pa.a.apply(void 0,Ha),Xa))):Ya=Object(Pa.d)(qa,Ga,Object(Pa.c)(Pa.a.apply(void 0,Ha)));var Ja=Ya,Ka=Object(se.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}));function $a(e){var t=e.alertOpen,a=e.setAlertOpen,n=e.severity,r=e.message,c=Ka();console.log(t);var o=function(e,t){"clickaway"!==t&&(a(!1),Ja.dispatch({type:z,payload:{message:"",type:""}}))};return Object(ce.jsx)("div",{className:c.root,children:Object(ce.jsx)(Ta.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:t,autoHideDuration:3e3,onClose:o,children:Object(ce.jsx)(Re.a,{elevation:6,variant:"filled",onClose:o,severity:n,children:r})})})}var Qa=Object(s.b)((function(e){return{users:e.user.users,alert:e.alert}}),{getUsers:ca})((function(e){var t=e.alert,a=e.users,n=Object(v.useState)(""),r=Object(f.a)(n,2),c=r[0],o=r[1],s=Object(v.useState)(!1),i=Object(f.a)(s,2),l=i[0],u=i[1];return Object(v.useEffect)((function(){e.getUsers()}),[ca]),Object(v.useEffect)((function(){""!==t.message&&u(!0)}),[t]),Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(Dt.a,{children:Object(ce.jsx)("title",{children:"Users | Language Learning Blog"})}),t&&Object(ce.jsx)($a,{severity:t.type,alertOpen:l,setAlertOpen:u,message:t.message}),Object(ce.jsx)(A.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(ce.jsxs)(Ft.a,{maxWidth:!1,children:[Object(ce.jsx)(Ea,{searchText:c,setSearchText:o}),Object(ce.jsx)(A.a,{sx:{pt:3},children:Object(ce.jsx)(Ia,{users:a,searchText:c})})]})})]})})),Za=a(94),en=function(e){var t=e.name,a=e.totalNumber,n=e.icon,r=e.backgroundColor,c=Object(w.a)(e,["name","totalNumber","icon","backgroundColor"]);return Object(ce.jsx)(Wt.a,Object(C.a)(Object(C.a)({sx:{height:"100%"}},c),{},{children:Object(ce.jsx)(_t.a,{children:Object(ce.jsxs)(Rt.a,{container:!0,spacing:3,sx:{justifyContent:"flex-start"},children:[Object(ce.jsx)(Rt.a,{item:!0,children:Object(ce.jsx)(ut.a,{sx:{backgroundColor:{backgroundColor:r},height:56,width:56},children:n})}),Object(ce.jsxs)(Rt.a,{item:!0,children:[Object(ce.jsx)(dt.a,{color:"textPrimary",gutterBottom:!0,variant:"h1",children:a}),Object(ce.jsx)(dt.a,{color:"textSecondary",gutterBottom:!0,variant:"body2",children:t})]})]})})}))},tn=Object(s.b)((function(e){return{totalCount:e.category.totalCount}}),{getCategories:ne})((function(e){var t=e.totalCount;return Object(v.useEffect)((function(){e.getCategories()}),[t]),Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(en,{name:"CATEGORIES",totalNumber:"".concat(t),icon:Object(ce.jsx)(ct.a,{}),backgroundColor:Za.a[700]})})})),an=a(582),nn=a(583),rn=a(100),cn=a.n(rn),on=Object(s.b)((function(e){return{users:e.user.users}}),{getUsers:ca})((function(e){var t=e.users;return Object(v.useEffect)((function(){e.getUsers()}),[ca]),Object(ce.jsxs)(Wt.a,{children:[Object(ce.jsx)(Mt.a,{title:"Latest Users"}),Object(ce.jsx)(jt.a,{}),Object(ce.jsx)(ma.a,{children:Object(ce.jsx)(A.a,{sx:{minWidth:800},children:Object(ce.jsxs)(ga.a,{children:[Object(ce.jsx)(Oa.a,{children:Object(ce.jsxs)(fa.a,{children:[Object(ce.jsx)(va.a,{children:"User Id"}),Object(ce.jsx)(va.a,{children:"Name"}),Object(ce.jsx)(va.a,{sortDirection:"desc",children:Object(ce.jsx)(an.a,{enterDelay:300,title:"Sort",children:Object(ce.jsx)(nn.a,{active:!0,direction:"desc",children:"Date"})})})]})}),Object(ce.jsx)(ya.a,{children:t.map((function(e){return Object(ce.jsxs)(fa.a,{hover:!0,children:[Object(ce.jsx)(va.a,{children:e.id}),Object(ce.jsx)(va.a,{children:e.fullName}),Object(ce.jsx)(va.a,{children:xa()(e.createdAt).format("DD/MM/YYYY")})]},e.id)}))})]})})}),Object(ce.jsx)(A.a,{sx:{display:"flex",justifyContent:"flex-end",p:2},children:Object(ce.jsx)(ie.a,{href:"/app/manage/users",color:"primary",endIcon:Object(ce.jsx)(cn.a,{}),size:"small",variant:"text",children:"View all"})})]})})),sn=a(584),ln=function(e,t,a,n){return function(){var r=Object(L.a)(P.a.mark((function r(c){return P.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,R.a.post("/api/posts",e);case 3:n(!0),a(!1),c({type:U,payload:{}}),t("/app/admin/posts/myPosts"),r.next=14;break;case 9:r.prev=9,r.t0=r.catch(0),a&&a(!1),c({type:U,payload:r.t0.response.data}),console.log(r.t0.response.data,r.t0.message);case 14:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(e){return r.apply(this,arguments)}}()},un=function(){return function(){var e=Object(L.a)(P.a.mark((function e(t){var a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.get("/api/posts/all/user");case 2:a=e.sent,t({type:M,payload:a.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},dn=function(){return function(){var e=Object(L.a)(P.a.mark((function e(t){var a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.get("/api/posts/all-filtered");case 2:a=e.sent,t({type:_,payload:a.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},jn=function(e,t){return function(){var a=Object(L.a)(P.a.mark((function a(n){var r;return P.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,R.a.get("/api/posts/id/".concat(e));case 3:r=a.sent,n({type:q,payload:r.data}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),t("/404");case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()},bn=Object(s.b)((function(e){return{posts:e.post.posts}}),{getAllFilteredPosts:dn})((function(e){var t=e.posts,a=e.cardStyle;return Object(v.useEffect)((function(){e.getAllFilteredPosts()}),[dn]),Object(ce.jsxs)(Wt.a,Object(C.a)(Object(C.a)({},a),{},{children:[Object(ce.jsx)(Mt.a,{subtitle:"".concat(t.length," in total"),title:"Latest Posts"}),Object(ce.jsx)(jt.a,{}),Object(ce.jsx)(D.a,{children:t.map((function(e,a){return Object(ce.jsxs)(pt.b,{divider:a<t.length-1,children:[Object(ce.jsx)(sn.a,{children:Object(ce.jsx)("img",{alt:e.title,src:e.coverImage,style:{height:48,width:48}})}),Object(ce.jsx)(ht.a,{primary:e.title,secondary:e.updatedAt?"Updated ".concat(e.updatedAt):""})]},e.id)}))}),Object(ce.jsx)(jt.a,{}),Object(ce.jsx)(A.a,{sx:{display:"flex",justifyContent:"flex-end",p:2},children:Object(ce.jsx)(ie.a,{href:"/app/manage/posts",color:"primary",endIcon:Object(ce.jsx)(cn.a,{}),size:"small",variant:"text",children:"View all"})})]}))})),pn=a(91),xn=a(360),hn=a.n(xn),mn=Object(s.b)((function(e){return{totalCount:e.post.totalCount}}),{getAllFilteredPosts:dn})((function(e){var t=e.totalCount;return Object(v.useEffect)((function(){e.getAllFilteredPosts()}),[t]),Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(en,{name:"TOTAL POSTS",totalNumber:"".concat(t),icon:Object(ce.jsx)(hn.a,{}),backgroundColor:pn.a[700]})})})),gn=a(361),On=a.n(gn),fn=Object(s.b)((function(e){return{totalCount:e.user.totalCount}}),{getUsers:ca})((function(e){var t=e.totalCount;return Object(v.useEffect)((function(){e.getUsers()}),[t]),Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(en,{name:"USERS",totalNumber:"".concat(t),icon:Object(ce.jsx)(On.a,{}),backgroundColor:qt.a[700]})})})),vn=a(93),yn=a(362),Cn=a.n(yn),wn=Object(s.b)((function(e){return{totalCount:e.like.totalCount}}),{getLikes:function(){return function(){var e=Object(L.a)(P.a.mark((function e(t){var a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.a.get("/api/post/likes/all");case 3:a=e.sent,t({type:te,payload:a.data}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:U,payload:e.t0.response.data}),console.log(e.t0.response.data,e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.totalCount;return Object(v.useEffect)((function(){Object(L.a)(P.a.mark((function t(){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getLikes();case 2:case"end":return t.stop()}}),t)})))()}),[t]),Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(en,{name:"TOTAL LIKES",totalNumber:"".concat(t),icon:Object(ce.jsx)(Cn.a,{}),backgroundColor:vn.a[700]})})})),Nn=function(){return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(Dt.a,{children:Object(ce.jsx)("title",{children:"Dashboard | Language Learning Blog"})}),Object(ce.jsx)(A.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(ce.jsx)(Ft.a,{maxWidth:!1,children:Object(ce.jsxs)(Rt.a,{container:!0,spacing:3,children:[Object(ce.jsx)(Rt.a,{item:!0,lg:3,md:3,sm:6,xl:3,xs:6,children:Object(ce.jsx)(fn,{})}),Object(ce.jsx)(Rt.a,{item:!0,lg:3,md:3,sm:6,xl:3,xs:6,children:Object(ce.jsx)(mn,{})}),Object(ce.jsx)(Rt.a,{item:!0,lg:3,md:3,sm:6,xl:3,xs:6,children:Object(ce.jsx)(tn,{})}),Object(ce.jsx)(Rt.a,{item:!0,lg:3,md:3,sm:6,xl:3,xs:6,children:Object(ce.jsx)(wn,{sx:{height:"100%"}})}),Object(ce.jsx)(Rt.a,{item:!0,lg:4,md:6,xl:3,xs:12,children:Object(ce.jsx)(bn,{sx:{height:"100%"}})}),Object(ce.jsx)(Rt.a,{item:!0,lg:8,md:6,xl:9,xs:12,children:Object(ce.jsx)(on,{})})]})})})]})},Sn=a(585),kn=Object(se.a)((function(e){return Ht(e)})),In={username:"",password:""},En=Object(s.b)((function(e){return{security:e.security,errors:e.errors}}),{login:function(e){return function(){var t=Object(L.a)(P.a.mark((function t(a){var n,r,c;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,R.a.post("/api/users/login",e);case 3:n=t.sent,r=n.data.token,localStorage.setItem("jwtToken",r),Qe(r),c=Object(Ze.a)(r),a({type:H,payload:c}),a({type:U,payload:{}}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),a({type:U,payload:t.t0.response.data});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},clearErrors:at})((function(e){var t=e.errors,a=e.security,n=Object(i.g)(),r=kn(),c=Vt(In),s=c.values,l=c.formErrors,u=c.setFormErrors,d=c.handleInputChange;Object(v.useEffect)((function(){e.clearErrors()}),[]),Object(v.useEffect)((function(){u(t)}),[t]),Object(v.useEffect)((function(){a.validToken&&n("/home")}),[a]);return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(Dt.a,{children:Object(ce.jsx)("title",{children:"Login | Language Learning Blog"})}),Object(ce.jsxs)(Rt.a,{container:!0,direction:"column",alignContent:"center",sx:{mx:4},children:[Object(ce.jsx)(Rt.a,{item:!0,className:r.alignCenter,children:Object(ce.jsx)(o.b,{to:"/home",children:Object(ce.jsx)(oe,{className:r.logo})})}),Object(ce.jsx)(Ft.a,{maxWidth:"xs",className:r.container,children:Object(ce.jsxs)("div",{className:"".concat(r.alignCenter," ").concat(r.paper),children:[Object(ce.jsx)(dt.a,{component:"h1",variant:"h3",color:"primary.light",children:"LOGIN"}),Object(ce.jsxs)(Jt,{className:r.form,onSubmit:function(t){t.preventDefault(),e.login(s)},children:[Object(ce.jsxs)(Rt.a,{container:!0,spacing:5,children:[Object(ce.jsx)(Rt.a,{item:!0,xs:12,children:Object(ce.jsx)(We.Input,{autoFocus:!0,required:!0,variant:"standard",name:"username",id:"username",label:"Username",autoComplete:"username",value:s.username,error:l.username,onChange:d})}),Object(ce.jsx)(Rt.a,{item:!0,xs:12,children:Object(ce.jsx)(We.Input,{required:!0,variant:"standard",name:"password",id:"password",label:"Password",autoComplete:"current-password",type:"password",value:s.password,error:l.password,onChange:d})})]}),Object(ce.jsx)(We.Buttons.Button,{text:"Login",marginY:6,paddingY:1.5,fullWidth:!0,size:"large",type:"submit"}),Object(ce.jsxs)(dt.a,{color:"textSecondary",variant:"body2",align:"center",children:["Don't have an account?"," ",Object(ce.jsx)(Sn.a,{color:"tertiary.main",component:o.b,to:"/user/register",variant:"h6",children:"SIGN UP"})]})]})]})})]})]})})),Tn=Object(se.a)((function(e){return{root:{display:"flex",background:"linear-gradient(45deg, ".concat(e.palette.primary.main,", ").concat(e.palette.tertiary.main,")"),minHeight:"100vh",overflowY:"auto",justifyContent:"center",alignItems:"center",padding:e.spacing(6,1,6)}}}));function Pn(e){var t=e.children,a=Tn();return Object(ce.jsx)(A.a,{className:a.root,children:t})}function Ln(){return Object(ce.jsx)(Pn,{children:Object(ce.jsx)(En,{})})}var An=function(){return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(Dt.a,{children:Object(ce.jsx)("title",{children:"404 | Language Learning Blog"})}),Object(ce.jsx)(A.a,{sx:{backgroundColor:"background.default",display:"flex",flexDirection:"column",height:"100%",justifyContent:"center"},children:Object(ce.jsxs)(Ft.a,{maxWidth:"md",children:[Object(ce.jsx)(dt.a,{align:"center",color:"textPrimary",variant:"h1",children:"404: The page you are looking for isn\u2019t here"}),Object(ce.jsx)(dt.a,{align:"center",color:"textPrimary",variant:"subtitle2",children:"You either tried some shady route or you came here by mistake. Whichever it is, try using the navigation"}),Object(ce.jsx)(A.a,{sx:{textAlign:"center"},children:Object(ce.jsx)("img",{alt:"Under development",src:"/static/images/undraw_page_not_found_su7k.svg",style:{marginTop:50,display:"inline-block",maxWidth:"100%",width:560}})})]})})]})},Bn=function(e){var t=e.searchText,a=e.setSearchText,n=e.showAddButton,r=Object(w.a)(e,["searchText","setSearchText","showAddButton"]);return Object(ce.jsxs)(A.a,Object(C.a)(Object(C.a)({},r),{},{children:[n&&Object(ce.jsx)(A.a,{sx:{display:"flex",justifyContent:"flex-end"},children:Object(ce.jsx)(We.Buttons.CreateButton,{href:"/app/admin/posts/addPost",text:"ADD NEW POST"})}),Object(ce.jsx)(A.a,{sx:{mt:3},children:Object(ce.jsx)(We.SearchBar,{placeholder:"Search post",searchText:t,setSearchText:a})})]}))},Dn=a(586),Fn=a(363),Rn=a.n(Fn),Un=a(587),zn=a(74),Wn=a.n(zn),Mn=Object(se.a)((function(e){var t;return{root:Object(Ct.a)({height:"100%",display:"flex",boxShadow:"-1px 2px 5px 1px rgba(0, 0, 0, 0.25)","&:hover":{boxShadow:"-1px 2px 20px 1px rgba(0, 0, 0, 0.25)"}},e.breakpoints.down("sm"),{flexDirection:"column"}),details:{display:"flex",flexDirection:"column",width:"100%"},content:{flex:"1 0 auto",paddingBottom:0,paddingTop:0},cover:(t={maxWidth:"195px",height:"210px"},Object(Ct.a)(t,e.breakpoints.up("lg"),{minHeight:"100%"}),Object(Ct.a)(t,e.breakpoints.down("sm"),{maxWidth:"100%",height:"150px"}),Object(Ct.a)(t,"boxShadow","-1px 1px 1px 1px rgba(0, 0, 0, 0.05)"),t),description:{"& .MuiTypography-root, & .MuiTypography-root > p":{display:"inline"},"& .MuiTypography-root > h1":{fontSize:"1rem",fontWeight:"normal"}},alignment:{display:"flex",justifyContent:"flex-end",alignItems:"center",padding:"8px 10px 8px 16px"},icon:{padding:8}}})),_n=function(e){var t=e.href,a=e.label,n=e.icon,r=Object(w.a)(e,["href","label","icon"]);return Object(ce.jsx)(o.b,Object(C.a)(Object(C.a)({to:t},r),{},{children:Object(ce.jsx)(k.a,{"aria-label":a,className:Mn().icon,children:n})}))},Yn=Object(s.b)(null,{deletePost:function(e){return function(){var t=Object(L.a)(P.a.mark((function t(a){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("Are you sure you want to delete this post")){t.next=5;break}return t.next=3,R.a.delete("/api/posts/id/".concat(e));case 3:a({type:G,payload:e}),a({type:z,payload:{message:"Deleted succesfully",type:"success"}});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=Mn(),a=e.post;return Object(ce.jsxs)(Wt.a,{className:t.root,children:[Object(ce.jsx)(Dn.a,{component:"img",className:t.cover,image:a.coverImage,title:a.title}),Object(ce.jsxs)("div",{className:t.details,children:[Object(ce.jsx)("div",{className:t.alignment,children:Object(ce.jsx)(dt.a,{color:"tertiary.main",gutterBottom:!0,component:"p",variant:"subtitle2",children:a.categoryName})}),Object(ce.jsxs)(_t.a,{className:t.content,children:[Object(ce.jsx)(dt.a,{gutterBottom:!0,component:"h5",variant:"h3",fontSize:"large",sx:{mb:1},children:a.title}),Object(ce.jsx)(dt.a,{variant:"body2",color:"textSecondary",children:"".concat(a.description.slice(0,130),"...")})]}),Object(ce.jsx)(dt.a,{variant:"caption",color:"textSecondary",className:t.alignment,children:"posted on: ".concat(Wn()(a.createdAt,"mmm dS, yyyy"))}),Object(ce.jsx)(jt.a,{}),Object(ce.jsxs)(Un.a,{className:t.alignment,children:[Object(ce.jsx)(_n,{href:"/article/".concat(a.id),label:"view",icon:Object(ce.jsx)(Rn.a,{fontSize:"small"})}),Object(ce.jsx)(_n,{href:"/app/admin/posts/updatePost/".concat(a.id),label:"update",icon:Object(ce.jsx)(Na.a,{color:"secondary",fontSize:"small"})}),Object(ce.jsx)(k.a,{"aria-label":"delete",className:t.icon,onClick:function(){return t=a.id,void e.deletePost(t);var t},children:Object(ce.jsx)(ka.a,{color:"error",fontSize:"small"})})]})]})]})})),qn=Object(s.b)((function(e){return{postItems:e.post,alert:e.alert}}),{getAllFilteredPosts:dn})((function(e){var t=e.alert,a=e.postItems,n=Object(v.useState)(""),r=Object(f.a)(n,2),c=r[0],o=r[1],s=Object(v.useState)(!1),i=Object(f.a)(s,2),l=i[0],u=i[1];return Object(v.useEffect)((function(){e.getAllFilteredPosts()}),[dn]),Object(v.useEffect)((function(){""!==t.message&&u(!0)}),[t]),Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(Dt.a,{children:Object(ce.jsx)("title",{children:"Posts | Language Learning Blog"})}),t&&Object(ce.jsx)($a,{severity:t.type,alertOpen:l,setAlertOpen:u,message:t.message}),Object(ce.jsx)(A.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(ce.jsxs)(Ft.a,{maxWidth:"lg",children:[Object(ce.jsx)(Bn,{showAddButton:!1,searchText:c,setSearchText:o}),Object(ce.jsx)(A.a,{sx:{pt:8,px:2},children:Object(ce.jsx)(Rt.a,{container:!0,spacing:5,children:a&&(a.posts.length>0?a.posts.map((function(e){return(e.title.toLowerCase().includes(c.toLowerCase())||e.description.toLowerCase().includes(c.toLowerCase()))&&Object(ce.jsx)(Rt.a,{item:!0,lg:6,md:6,xs:12,children:Object(ce.jsx)(Yn,{post:e})},e.id)})):null)})})]})})]})})),Gn=Object(se.a)((function(e){return Ht(e)})),Hn=[{id:"male",name:"Male"},{id:"female",name:"Female"}],Vn={firstName:"",lastName:"",username:"",password:"",confirmPassword:"",gender:Hn[0].name,phoneNumber:"",avatarImg:"",email:""},Xn=Object(s.b)((function(e){return{security:e.security,errors:e.errors}}),{registerUser:et,clearErrors:at})((function(e){var t=e.errors,a=e.security,n=Gn(),r=Object(i.g)(),c=Vt(Vn),s=c.values,l=c.formErrors,u=c.setFormErrors,d=c.handleInputChange;Object(v.useEffect)((function(){e.clearErrors()}),[]),Object(v.useEffect)((function(){u(t)}),[t]),Object(v.useEffect)((function(){a.validToken&&r("/home")}),[a]);return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(Dt.a,{children:Object(ce.jsx)("title",{children:"Register | Language Learning Blog"})}),Object(ce.jsxs)(Rt.a,{container:!0,direction:"column",alignContent:"center",sx:{mx:4},children:[Object(ce.jsx)(Rt.a,{item:!0,className:n.alignCenter,children:Object(ce.jsx)(o.b,{to:"/",children:Object(ce.jsx)(oe,{className:n.logo})})}),Object(ce.jsx)(Ft.a,{maxWidth:"md",className:n.container,children:Object(ce.jsxs)("div",{className:"".concat(n.alignCenter," ").concat(n.paper),children:[Object(ce.jsx)(dt.a,{component:"h1",variant:"h3",color:"primary.light",children:"CREATE \xa0 ACCOUNT"}),Object(ce.jsxs)(Jt,{className:n.form,onSubmit:function(t){t.preventDefault();var a=s.phoneNumber;s.phoneNumber=a.replace(/-| /gi,""),e.registerUser(s,r)},children:[Object(ce.jsxs)(Rt.a,{container:!0,spacing:4,sx:{py:2},children:[Object(ce.jsx)(Rt.a,{item:!0,xs:12,sm:6,children:Object(ce.jsx)(We.Input,{autoFocus:!0,required:!0,name:"firstName",id:"firstName",label:"First Name",autoComplete:"fname",error:l.firstName,value:s.firstName,onChange:d})}),Object(ce.jsx)(Rt.a,{item:!0,xs:12,sm:6,children:Object(ce.jsx)(We.Input,{name:"lastName",id:"lastName",label:"Last Name",autoComplete:"lname",error:l.lastName,value:s.lastName,onChange:d})}),Object(ce.jsx)(Rt.a,{item:!0,xs:12,sm:6,children:Object(ce.jsx)(We.Input,{required:!0,name:"username",id:"username",label:"Username",autoComplete:"uname",error:l.username,value:s.username,onChange:d})}),Object(ce.jsx)(Rt.a,{item:!0,xs:12,sm:6,children:Object(ce.jsx)(We.Input,{required:!0,name:"email",id:"email",label:"Email Address",autoComplete:"email",error:l.email,value:s.email,onChange:d})}),Object(ce.jsx)(Rt.a,{item:!0,xs:12,sm:6,children:Object(ce.jsx)(We.PhoneInput,{value:s.phoneNumber,error:l.phoneNumber,onChange:d})}),Object(ce.jsx)(Rt.a,{item:!0,xs:12,sm:6,children:Object(ce.jsx)(We.Select,{name:"gender",label:"Gender",value:s.gender,options:Hn,onChange:d})}),Object(ce.jsx)(Rt.a,{item:!0,xs:12,children:Object(ce.jsx)(We.Input,{required:!0,name:"password",id:"password",label:"Password",type:"password",error:l.password,value:s.password,onChange:d})}),Object(ce.jsx)(Rt.a,{item:!0,xs:12,children:Object(ce.jsx)(We.Input,{required:!0,name:"confirmPassword",id:"confirmPassword",label:"Confirm Password",type:"password",error:l.confirmPassword,value:s.confirmPassword,onChange:d})})]}),Object(ce.jsx)(We.Buttons.Button,{text:"Sign up",marginY:6,paddingY:1.5,fullWidth:!0,size:"large",type:"submit"}),Object(ce.jsxs)(dt.a,{color:"textSecondary",variant:"body2",align:"center",children:["Already have an account?"," ",Object(ce.jsx)(Sn.a,{color:"tertiary.main",component:o.b,to:"/user/login",variant:"h6",children:"LOGIN"})]})]})]})})]})]})}));function Jn(){return Object(ce.jsx)(Pn,{children:Object(ce.jsx)(Xn,{})})}var Kn=a(213),$n=a.n(Kn),Qn=a(154),Zn=a.n(Qn),er=Object(se.a)((function(e){var t;return{searchBar:(t={width:"100%",height:"60px"},Object(Ct.a)(t,e.breakpoints.down("sm"),{height:"55px"}),Object(Ct.a)(t,"padding","10px 30px"),Object(Ct.a)(t,"boxShadow","0px 1px 3px 1px rgba(0, 0, 0, 0.2)"),Object(Ct.a)(t,"border","1px solid ".concat(e.palette.secondary.dark)),t)}})),tr=function(e){var t=e.searchText,a=e.setSearchText,n=er();return Object(ce.jsx)(We.SearchBar,{placeholder:"Search post",searchText:t,setSearchText:a,className:n.searchBar,searchIcon:Object(ce.jsx)($n.a,{color:"primary",fontSize:"medium"}),closeIcon:Object(ce.jsx)(Zn.a,{color:"primary",fontSize:"medium"})})},ar=function(e){return{root:{margin:25,textAlign:"left"},description:{"& .MuiTypography-root, & .MuiTypography-root > p":{display:"inline"}},simpleCard:{boxShadow:"-1px 2px 20px 1px rgba(0, 0, 0, 0.25)","&:hover":{boxShadow:"-1px 2px 5px 1px rgba(0, 0, 0, 0.25)"}},cardWithAvatar:{margin:25,textAlign:"left",paddingBottom:4,boxShadow:"1px 2px 4px 1px rgba(0, 0, 0, 0.01)",border:"none",borderRadius:0,"& .MuiCardContent-root":{padding:"16px 4px 8px 2px"},"& .MuiCardActions-root":{paddingLeft:2}},cardActionGrid:Object(Ct.a)({padding:"0 16px 16px 8px"},e.breakpoints.down("sm"),{flexDirection:"column",justifyContent:"",textAlign:"left"}),avatarGrid:{paddingLeft:0},postTime:Object(Ct.a)({},e.breakpoints.down("sm"),{width:"100%",display:"flex",justifyContent:"flex-start"}),button:Object(Ct.a)({"& .MuiButton-endIcon":{marginLeft:0}},e.breakpoints.down("sm"),{width:"100%",display:"flex",justifyContent:"flex-end"})}},nr=Object(se.a)((function(e){return ar(e)})),rr=function(e){var t=e.title,a=e.description,n=e.image,r=e.imageHeight,c=e.href,s=e.titleTextVariant,i=e.contentTextVariant,l=e.rootStyles,u=e.children,d=Object(w.a)(e,["title","description","image","imageHeight","href","titleTextVariant","contentTextVariant","rootStyles","children"]),j=nr();return Object(ce.jsx)(o.b,{to:c,style:{textDecoration:"none"},children:Object(ce.jsxs)(Wt.a,Object(C.a)(Object(C.a)({className:"".concat(j.root," ").concat(l)},d),{},{children:[Object(ce.jsx)(Dn.a,{component:"img",alt:t,height:r,image:n,title:t}),Object(ce.jsxs)(_t.a,{children:[Object(ce.jsx)(dt.a,{gutterBottom:!0,variant:s,component:"h2",children:t}),Object(ce.jsx)(dt.a,{variant:i,color:"textSecondary",children:"".concat(a>150?"".concat(a.slice(0,150),"..."):a)})]}),u]}))})},cr=function(e){var t=e.justifyContent,a=e.gridStyle,n=e.spacing,r=e.children,c=Object(w.a)(e,["justifyContent","gridStyle","spacing","children"]);return Object(ce.jsx)(Un.a,Object(C.a)(Object(C.a)({},c),{},{children:Object(ce.jsx)(Rt.a,{container:!0,justifyContent:t,alignItems:"center",className:a,spacing:n,children:r})}))},or=Object(se.a)((function(e){return ar(e)})),sr=function(e){var t=e.title,a=e.description,n=e.image,r=e.createdAt,c=e.imageHeight,o=e.href,s=Object(w.a)(e,["title","description","image","createdAt","imageHeight","href"]),l=or(),u=Object(i.g)();return Object(ce.jsx)(rr,Object(C.a)(Object(C.a)({rootStyles:l.simpleCard,title:t,description:a,image:n,imageHeight:c,href:o,titleTextVariant:"h3",contentTextVariant:"body1"},s),{},{children:Object(ce.jsxs)(cr,{justifyContent:"space-between",gridStyle:l.cardActionGrid,children:[Object(ce.jsx)(A.a,{className:l.postTime,children:Object(ce.jsx)(dt.a,{variant:"subtitle2",color:"textSecondary",component:"p",fontSize:"0.78rem",children:"Posted on ".concat(Wn()(r,"mmmm dS, yyyy"))})}),Object(ce.jsx)(A.a,{className:l.button,children:Object(ce.jsx)(ie.a,{onClick:function(){u(o)},size:"small",color:"secondary",endIcon:Object(ce.jsx)(cn.a,{}),children:"Read More"})})]})}))},ir=function(e){var t=e.postItems,a=e.searchText;return Object(ce.jsx)(Rt.a,{container:!0,spacing:1,children:t?t.map((function(e){return(e.title.toLowerCase().includes(a.toLowerCase())||e.description.toLowerCase().includes(a.toLowerCase()))&&Object(ce.jsx)(Rt.a,{item:!0,lg:4,md:6,sm:12,xs:12,children:Object(ce.jsx)(sr,{href:"/article/".concat(e.id),title:e.title,image:e.coverImage,description:e.description,createdAt:e.createdAt,imageHeight:220})},e.id)})):null})},lr=Object(s.b)((function(e){return{category:e.category.category}}),{getCategoryByName:function(e,t){return function(){var a=Object(L.a)(P.a.mark((function a(n){var r;return P.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,R.a.get("/api/categories/name/".concat(e));case 3:r=a.sent,n({type:Q,payload:r.data}),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(0),n({type:U,payload:a.t0.response.data}),t("/404");case 11:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=e.category,a=Object(i.g)(),n=Object(i.h)().name,r=Object(v.useState)(""),c=Object(f.a)(r,2),o=c[0],s=c[1],l=Object(v.useState)([]),u=Object(f.a)(l,2),d=u[0],j=u[1],b=Object(v.useRef)(!0);function p(){return x.apply(this,arguments)}function x(){return(x=Object(L.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(t.posts);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(v.useEffect)((function(){return Object(L.a)(P.a.mark((function t(){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getCategoryByName(n,a);case 2:return t.next=4,p();case 4:case"end":return t.stop()}}),t)})))(),function(){b.current=!1}}),[t.id,n]),Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(Dt.a,{children:Object(ce.jsx)("title",{children:"Category | Language Learning Blog"})}),Object(ce.jsxs)(A.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:[Object(ce.jsx)(Ft.a,{maxWidth:"md",children:Object(ce.jsx)(A.a,{sx:{my:5},children:Object(ce.jsx)(tr,{searchText:o,setSearchText:s})})}),Object(ce.jsx)(Ft.a,{maxWidth:"lg",style:{margin:"auto"},children:Object(ce.jsx)(A.a,{sx:{pt:3},children:Object(ce.jsx)(ir,{postItems:d,searchText:o})})})]})]})})),ur=function(){return function(){var e=Object(L.a)(P.a.mark((function e(t){var a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.get("/api/roles/all");case 2:a=e.sent,t({type:K,payload:a.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},dr=Object(se.a)((function(e){return Ht(e)})),jr={padding:"13px 0",boxShadow:"0 1px 4px 2px rgba(33, 159, 243, .3)"},br=[{id:"male",name:"Male"},{id:"female",name:"Female"}],pr={firstName:"",lastName:"",username:"",password:"",confirmPassword:"",gender:br[0].name,roleName:"",phoneNumber:"",avatarImg:"",email:""},xr=Object(s.b)((function(e){return{roles:e.role.roles,errors:e.errors}}),{registerUser:et,getAllRoles:ur})((function(e){var t=e.roles,a=e.errors,n=dr(),r=Object(i.g)(),c=Object(v.useState)(!1),o=Object(f.a)(c,2),s=o[0],l=o[1],u=Object(v.useState)(!1),d=Object(f.a)(u,2),j=d[0],b=d[1],p=Vt(pr),x=p.values,h=p.formErrors,m=p.setFormErrors,g=p.handleInputChange;Object(v.useEffect)((function(){e.getAllRoles()}),[ur]),Object(v.useEffect)((function(){m(a)}),[a]);return Object(ce.jsx)(Jt,{className:n.form,onSubmit:function(t){t.preventDefault(),s||(b(!1),l(!0));var a=x.phoneNumber;x.phoneNumber=a.replace(/-| /gi,""),e.registerUser(x,r,l,b)},sx:{px:4},children:Object(ce.jsxs)(Wt.a,{sx:{px:2,boxShadow:"".concat("-1px -1px 10px 2px rgba(0, 0, 0, 0.25)"),position:"relative",overflow:"inherit"},children:[Object(ce.jsx)(Rt.a,{container:!0,justifyContent:"center",sx:{py:5},children:Object(ce.jsx)(dt.a,{component:"h1",variant:"h3",color:"primary.light",children:"CREATE\xa0NEW\xa0USER"})}),Object(ce.jsx)(_t.a,{children:Object(ce.jsxs)(Rt.a,{container:!0,spacing:4,children:[Object(ce.jsx)(Rt.a,{item:!0,xs:12,md:6,children:Object(ce.jsx)(We.Input,{autoFocus:!0,required:!0,name:"firstName",id:"firstName",label:"First Name",autoComplete:"fname",error:h.firstName,value:x.firstName,onChange:g})}),Object(ce.jsx)(Rt.a,{item:!0,xs:12,md:6,children:Object(ce.jsx)(We.Input,{required:!0,name:"lastName",id:"lastName",label:"Last Name",autoComplete:"lname",error:h.lastName,value:x.lastName,onChange:g})}),Object(ce.jsx)(Rt.a,{item:!0,xs:12,md:6,children:Object(ce.jsx)(We.Input,{required:!0,name:"username",id:"username",label:"Username",autoComplete:"uname",error:h.username,value:x.username,onChange:g})}),Object(ce.jsx)(Rt.a,{item:!0,xs:12,md:6,children:Object(ce.jsx)(We.Select,{name:"roleName",label:"Role",value:x.roleName,options:t,error:h.roleName,onChange:g})}),Object(ce.jsx)(Rt.a,{item:!0,xs:12,md:6,children:Object(ce.jsx)(We.PhoneInput,{value:x.phoneNumber,error:h.phoneNumber,onChange:g})}),Object(ce.jsx)(Rt.a,{item:!0,xs:12,md:6,children:Object(ce.jsx)(We.Select,{name:"gender",label:"Gender",value:x.gender,options:br,error:h.gender,onChange:g})}),Object(ce.jsx)(Rt.a,{item:!0,xs:12,children:Object(ce.jsx)(We.Input,{required:!0,name:"email",id:"email",label:"Email Address",autoComplete:"email",error:h.email,value:x.email,onChange:g})}),Object(ce.jsx)(Rt.a,{item:!0,xs:12,children:Object(ce.jsx)(We.Input,{required:!0,name:"password",id:"password",label:"Password",type:"password",error:h.password,value:x.password,onChange:g})}),Object(ce.jsx)(Rt.a,{item:!0,xs:12,children:Object(ce.jsx)(We.Input,{required:!0,name:"confirmPassword",id:"confirmPassword",label:"Confirm Password",type:"password",error:h.confirmPassword,value:x.confirmPassword,onChange:g})}),Object(ce.jsx)(Rt.a,{container:!0,item:!0,xs:12,children:Object(ce.jsxs)(Rt.a,{container:!0,sx:Object(C.a)(Object(C.a)({},Gt.wrapper),{},{my:4}),children:[Object(ce.jsx)(We.Buttons.Button,{sx:Object(C.a)(Object(C.a)({},jr),Gt.buttonSuccess(j)),text:"ADD",marginY:6,paddingY:1.5,fullWidth:!0,size:"large",type:"submit",disabled:s}),s&&Object(ce.jsx)(Yt.a,{size:25,sx:Gt.buttonProgress})]})})]})})]})})})),hr=function(){return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(Dt.a,{children:Object(ce.jsx)("title",{children:"Add User | Language Learning Blog"})}),Object(ce.jsx)(A.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:4},children:Object(ce.jsx)(Ft.a,{maxWidth:"md",children:Object(ce.jsx)(Rt.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:Object(ce.jsx)(Rt.a,{item:!0,children:Object(ce.jsx)(xr,{})})})})})]})},mr=Object(se.a)((function(e){return Ht(e)})),gr={border:0,padding:"0 30px",height:40,boxShadow:"0 1px 4px 2px rgba(33, 159, 243, .3)"},Or={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(0, 1fr))"},fr={title:"",description:"",categoryName:"",coverImage:"",content:""},vr=Object(s.b)((function(e){return{categories:e.category.categories,errors:e.errors}}),{getCategories:ne,uploadImage:ta,createPost:ln})((function(e){var t=e.categories,a=e.errors,n=mr(),r=Object(v.useState)(!1),c=Object(f.a)(r,2),o=c[0],s=c[1],l=Object(v.useState)(!1),u=Object(f.a)(l,2),d=u[0],j=u[1],b=Object(i.g)(),p=Vt(fr),x=p.values,h=p.formErrors,m=p.setFormErrors,g=p.handleInputChange;Object(v.useEffect)((function(){e.getCategories()}),[ne]),Object(v.useEffect)((function(){m(a)}),[a]);var O=function(){var t=Object(L.a)(P.a.mark((function t(a){var n,r;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),o||(j(!1),s(!0)),""===x.coverImage){t.next=8;break}return n="/posts/coverImages/post_".concat(x.title),t.next=6,e.uploadImage(x.coverImage,n);case 6:r=t.sent,x.coverImage=r;case 8:e.createPost(x,b,s,j);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(ce.jsx)(Jt,{className:n.form,onSubmit:O,sx:{px:4},children:Object(ce.jsxs)(Wt.a,{sx:{px:2,pb:2,boxShadow:"".concat("-1px -1px 10px 2px rgba(0, 0, 0, 0.25)")},children:[Object(ce.jsx)(Rt.a,{container:!0,justifyContent:"center",sx:{py:5},children:Object(ce.jsx)(dt.a,{component:"h1",variant:"h3",color:"primary.light",children:"CREATE\xa0NEW\xa0POST"})}),Object(ce.jsx)(_t.a,{children:Object(ce.jsxs)(Rt.a,{container:!0,spacing:5,children:[Object(ce.jsx)(Rt.a,{item:!0,xs:12,children:Object(ce.jsx)(We.Input,{autoFocus:!0,required:!0,name:"title",id:"postTitle",label:"Post Title",error:h.title,value:x.title,onChange:g})}),Object(ce.jsx)(Rt.a,{item:!0,xs:12,children:Object(ce.jsx)(We.Input,{required:!0,multiline:!0,rows:2,name:"description",id:"postDescription",label:"Post Description",error:h.description,value:x.description,onChange:g})}),Object(ce.jsx)(Rt.a,{item:!0,xs:12,children:Object(ce.jsx)(We.Select,{name:"categoryName",label:"Category Name",options:t,value:x.categoryName,error:h.categoryName,onChange:g})}),Object(ce.jsx)(Rt.a,{item:!0,xs:12,children:Object(ce.jsx)(We.ImageDropzone,{name:"coverImage",onAdd:g,onDelete:g,error:h.coverImage})}),Object(ce.jsx)(Rt.a,{item:!0,xs:12,sx:Or,children:Object(ce.jsx)(We.TextEditor,{name:"content",value:x.content,onChange:g,error:h.content})}),Object(ce.jsx)(Rt.a,{container:!0,item:!0,xs:12,justifyContent:"flex-end",children:Object(ce.jsxs)(A.a,{sx:Gt.wrapper,children:[Object(ce.jsx)(We.Buttons.Button,{sx:Object(C.a)(Object(C.a)({},gr),Gt.buttonSuccess(d)),text:"PUBLISH",type:"submit",disabled:o}),o&&Object(ce.jsx)(Yt.a,{size:25,sx:Gt.buttonProgress})]})})]})})]})})})),yr=function(){return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(Dt.a,{children:Object(ce.jsx)("title",{children:"Add Post | Language Learning Blog"})}),Object(ce.jsx)(A.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:4},children:Object(ce.jsx)(Ft.a,{maxWidth:"md",children:Object(ce.jsx)(Rt.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:Object(ce.jsx)(Rt.a,{item:!0,children:Object(ce.jsx)(vr,{})})})})})]})},Cr=Object(se.a)((function(e){var t;return{mainContainer:{height:250,background:'linear-gradient(rgba(0,0,0,.7), rgba(0,0,0,.7)), url("/static/images/coverImg.jpg")',backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",color:e.palette.common.white},mainItem:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%"},searchBar:(t={width:"100%",height:"60px"},Object(Ct.a)(t,e.breakpoints.down("sm"),{height:"55px"}),Object(Ct.a)(t,"borderRadius","30px"),Object(Ct.a)(t,"padding","10px 30px"),Object(Ct.a)(t,"boxShadow","0px 2px 4px 1px rgba(0, 0, 0, 0.25)"),Object(Ct.a)(t,"background",e.palette.customWhite.main),Object(Ct.a)(t,"border","1px solid #E7E7E7"),t)}})),wr=function(e){var t=e.searchText,a=e.setSearchText,n=Cr();return Object(ce.jsx)(Rt.a,{container:!0,className:n.mainContainer,children:Object(ce.jsx)(Rt.a,{item:!0,className:n.mainItem,children:Object(ce.jsx)(Ft.a,{maxWidth:"md",className:n.mainItem,children:Object(ce.jsx)(Te,{className:n.searchBar,placeholder:"Type here to search",searchText:t,setSearchText:a})})})})},Nr=function(e){var t=e.postItems,a=e.searchText;return Object(ce.jsx)(ir,{postItems:t,searchText:a})},Sr=Object(s.b)((function(e){return{postItems:e.post.posts}}),{getAllFilteredPosts:dn})((function(e){var t=e.postItems,a=Object(v.useState)(""),n=Object(f.a)(a,2),r=n[0],c=n[1];return Object(v.useEffect)((function(){e.getAllFilteredPosts()}),[dn]),Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(Dt.a,{children:Object(ce.jsx)("title",{children:"Home | Language Learning Blog"})}),Object(ce.jsxs)(A.a,{sx:{backgroundColor:"white",minHeight:"100%",pb:3},children:[Object(ce.jsx)(wr,{searchText:r,setSearchText:c}),Object(ce.jsx)(Ft.a,{maxWidth:"lg",style:{margin:"auto"},children:Object(ce.jsx)(A.a,{sx:{pt:4},children:Object(ce.jsx)(Nr,{postItems:t,searchText:r})})})]})]})})),kr=Object(se.a)((function(e){return Ht(e)})),Ir={border:0,padding:"0 30px",height:40,boxShadow:"0 1px 4px 2px rgba(33, 159, 243, .3)"},Er={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(0, 1fr))"},Tr={title:"",description:"",categoryName:"",coverImage:"",content:""},Pr=Object(s.b)((function(e){return{categories:e.category.categories,post:e.post.post,errors:e.errors}}),{getPost:jn,getCategories:ne,createPost:ln,uploadImage:ta})((function(e){var t=e.categories,a=e.post,n=e.errors,r=kr(),c=Object(i.g)(),o=Object(v.useState)(!1),l=Object(f.a)(o,2),u=l[0],d=l[1],j=Object(v.useState)(!1),b=Object(f.a)(j,2),p=b[0],x=b[1],h=Vt(Tr),m=h.values,g=h.formErrors,O=h.setValues,y=h.setFormErrors,w=h.handleInputChange,N=Object(s.c)((function(e){return e.security})).user,S=Object(i.h)().id;Object(v.useEffect)((function(){e.getPost(S,c)}),[jn]),Object(v.useEffect)((function(){e.getCategories()}),[ne]),Object(v.useEffect)((function(){O(Object(C.a)(Object(C.a)({},m),a))}),[a]),Object(v.useEffect)((function(){y(n)}),[n]),N.username!==a.author&&i.a;var k=function(){var t=Object(L.a)(P.a.mark((function t(a){var n,r;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),u||(x(!1),d(!0)),"<p><br></p>"===m.content&&(m.content=""),""===m.coverImage){t.next=9;break}return n="/posts/coverImages/post_".concat(m.title),t.next=7,e.uploadImage(m.coverImage,n);case 7:r=t.sent,m.coverImage=r;case 9:e.createPost(m,c,d,x),u&&d(!1);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(ce.jsx)(Jt,{className:r.form,onSubmit:k,sx:{px:4},children:Object(ce.jsxs)(Wt.a,{sx:{px:2,pb:2,boxShadow:"".concat("-1px -1px 10px 2px rgba(0, 0, 0, 0.25)")},children:[Object(ce.jsx)(Rt.a,{container:!0,justifyContent:"center",sx:{py:5},children:Object(ce.jsx)(dt.a,{component:"h1",variant:"h3",color:"primary.light",children:"UPDATE\xa0POST"})}),Object(ce.jsxs)(_t.a,{children:[Object(ce.jsx)(Rt.a,{sx:{display:"none"},children:Object(ce.jsx)(We.Input,{required:!0,disabled:!0,name:"id",id:"postId",label:"postId",type:"hidden",value:"".concat(m.id)})}),Object(ce.jsxs)(Rt.a,{container:!0,spacing:5,children:[Object(ce.jsx)(Rt.a,{item:!0,xs:12,children:Object(ce.jsx)(We.Input,{disabled:!0,name:"title",id:"postTitle",label:"Post Title",error:g.title,value:m.title,onChange:w,sx:{backgroundColor:"#fafafa"}})}),Object(ce.jsx)(Rt.a,{item:!0,xs:12,children:Object(ce.jsx)(We.Input,{required:!0,multiline:!0,rows:2,name:"description",id:"postDescription",label:"Post Description",error:g.description,value:m.description,onChange:w})}),Object(ce.jsx)(Rt.a,{item:!0,xs:12,children:Object(ce.jsx)(We.Select,{disabled:!0,name:"categoryName",label:"Category Name",value:m.categoryName,options:t,onChange:w,sx:{backgroundColor:"#fafafa"}})}),Object(ce.jsx)(Rt.a,{item:!0,xs:12,children:Object(ce.jsx)(We.ImageDropzone,{name:"coverImage",imgData:m.coverImage,onAdd:w,onDelete:w,error:g.coverImage})}),Object(ce.jsx)(Rt.a,{item:!0,xs:12,sx:Er,children:Object(ce.jsx)(We.TextEditor,{name:"content",value:m.content,onChange:w,error:g.content})}),Object(ce.jsx)(Rt.a,{container:!0,item:!0,xs:12,justifyContent:"flex-end",children:Object(ce.jsxs)(A.a,{sx:Gt.wrapper,children:[Object(ce.jsx)(We.Buttons.Button,{sx:Object(C.a)(Object(C.a)({},Ir),Gt.buttonSuccess(p)),text:"UPDATE",type:"submit",disabled:u}),u&&Object(ce.jsx)(Yt.a,{size:25,sx:Gt.buttonProgress})]})})]})]})]})})})),Lr=function(){return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(Dt.a,{children:Object(ce.jsx)("title",{children:"Update Post | Language Learning Blog"})}),Object(ce.jsx)(A.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:4},children:Object(ce.jsx)(Ft.a,{maxWidth:"md",children:Object(ce.jsx)(Rt.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:Object(ce.jsx)(Rt.a,{item:!0,children:Object(ce.jsx)(Pr,{})})})})})]})},Ar=Object(se.a)((function(e){return Ht(e)})),Br={padding:"13px 0",boxShadow:"0 1px 4px 2px rgba(33, 159, 243, .3)"},Dr=[{id:"male",name:"Male"},{id:"female",name:"Female"}],Fr={id:"",firstName:"",lastName:"",username:"",gender:Dr[0].name,phoneNumber:"",roleName:"",avatarImg:"",email:""},Rr=Object(s.b)((function(e){return{adminRole:e.security.user.roleName,user:e.user.user,roles:e.role.roles,errors:e.errors}}),{getUser:oa,updateUser:sa,getAllRoles:ur})((function(e){var t=e.adminRole,a=e.user,n=e.errors,r=e.roles,c=Ar(),o=Object(i.h)().id,s=Object(v.useState)(!1),l=Object(f.a)(s,2),u=l[0],d=l[1],j=Object(v.useState)(!1),b=Object(f.a)(j,2),p=b[0],x=b[1],h=Vt(Fr),m=h.values,g=h.setValues,O=h.formErrors,y=h.setFormErrors,w=h.handleInputChange;Object(v.useEffect)((function(){e.getAllRoles()}),[r]),Object(v.useEffect)((function(){y(n)}),[n]),Object(v.useEffect)((function(){e.getUser(o)}),[oa]),Object(v.useEffect)((function(){g(Object(C.a)(Object(C.a)({},m),a))}),[a]);var N=function(){return Object(ce.jsx)(zt.a,{badgeContent:Object(ce.jsx)(ra,{name:"avatarImg",userId:o,onChange:w}),overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},children:Object(ce.jsx)(ut.a,{alt:m.username,src:m.avatarImg,sx:{height:90,width:90}})})};return Object(ce.jsx)(Jt,{className:c.form,onSubmit:function(a){a.preventDefault(),u||(x(!1),d(!0));var n=m.phoneNumber;m.phoneNumber=n.replace(/-| /gi,"");var r={id:m.id,firstName:m.firstName,lastName:m.lastName,username:m.username,gender:m.gender,phoneNumber:m.phoneNumber,roleName:m.roleName,avatarImg:m.avatarImg,email:m.email};e.updateUser(o,t,r,d,x)},sx:{px:4},children:Object(ce.jsxs)(Wt.a,{sx:{px:2,pt:10,boxShadow:"".concat("-1px -1px 10px 2px rgba(0, 0, 0, 0.25)"),position:"relative",overflow:"inherit"},children:[Object(ce.jsx)(Ft.a,{sx:{position:"absolute",left:0,top:-40,width:"100%",display:"flex",placeContent:"center",margin:"auto"},children:Object(ce.jsx)(N,{})}),Object(ce.jsx)(Mt.a,{}),Object(ce.jsxs)(_t.a,{children:[Object(ce.jsx)(Rt.a,{sx:{display:"none"},children:Object(ce.jsx)(We.Input,{required:!0,disabled:!0,name:"userId",id:"userId",label:"userId",type:"hidden",value:"".concat(m.id)})}),Object(ce.jsxs)(Rt.a,{container:!0,spacing:4,children:[Object(ce.jsx)(Rt.a,{item:!0,xs:12,md:6,children:Object(ce.jsx)(We.Input,{autoFocus:!0,required:!0,disabled:!0,variant:"filled",name:"firstName",id:"firstName",label:"First Name",autoComplete:"fname",error:O.firstName,value:m.firstName,onChange:w})}),Object(ce.jsx)(Rt.a,{item:!0,xs:12,md:6,children:Object(ce.jsx)(We.Input,{disabled:!0,variant:"filled",name:"lastName",id:"lastName",label:"Last Name",autoComplete:"lname",error:O.lastName,value:m.lastName,onChange:w})}),Object(ce.jsx)(Rt.a,{item:!0,xs:12,md:6,children:Object(ce.jsx)(We.Input,{required:!0,name:"username",id:"username",label:"Username",autoComplete:"uname",error:O.username,value:m.username,onChange:w})}),Object(ce.jsx)(Rt.a,{item:!0,xs:12,md:6,children:Object(ce.jsx)(We.Select,{required:!0,disabled:!0,name:"gender",label:"Gender",value:m.gender,options:Dr,onChange:w,error:O.gender})}),Object(ce.jsx)(Rt.a,{item:!0,xs:12,md:6,children:Object(ce.jsx)(We.Select,{name:"roleName",label:"Role",value:m.roleName,options:r,error:O.roleName,onChange:w})}),Object(ce.jsx)(Rt.a,{item:!0,xs:12,md:6,children:Object(ce.jsx)(We.Input,{required:!0,name:"email",id:"email",label:"Email Address",autoComplete:"email",error:O.email,value:m.email,onChange:w})}),Object(ce.jsx)(Rt.a,{item:!0,xs:12,md:6,children:Object(ce.jsx)(We.PhoneInput,{value:m.phoneNumber,onChange:w,error:O.phoneNumber})}),Object(ce.jsx)(Rt.a,{container:!0,item:!0,xs:12,children:Object(ce.jsxs)(Rt.a,{container:!0,sx:Object(C.a)(Object(C.a)({},Gt.wrapper),{},{my:4}),children:[Object(ce.jsx)(We.Buttons.Button,{sx:Object(C.a)(Object(C.a)({},Br),Gt.buttonSuccess(p)),text:"UPDATE",marginY:6,paddingY:1.5,fullWidth:!0,size:"large",type:"submit",disabled:u}),u&&Object(ce.jsx)(Yt.a,{size:25,sx:Gt.buttonProgress})]})})]})]})]})})})),Ur=function(){return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(Dt.a,{children:Object(ce.jsx)("title",{children:"Update User | Language Learning Blog"})}),Object(ce.jsx)(A.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:4},children:Object(ce.jsx)(Ft.a,{maxWidth:"md",children:Object(ce.jsx)(Rt.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:Object(ce.jsx)(Rt.a,{item:!0,children:Object(ce.jsx)(Rr,{})})})})})]})},zr=Object(s.b)((function(e){return{postItems:e.post,alert:e.alert}}),{getUserPosts:un})((function(e){var t=e.alert,a=e.postItems,n=Object(v.useState)(""),r=Object(f.a)(n,2),c=r[0],o=r[1],s=Object(v.useState)(!1),i=Object(f.a)(s,2),l=i[0],u=i[1];return Object(v.useEffect)((function(){e.getUserPosts()}),[un]),Object(v.useEffect)((function(){""!==t.message&&u(!0)}),[t]),Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(Dt.a,{children:Object(ce.jsx)("title",{children:"Posts | Language Learning Blog"})}),t&&Object(ce.jsx)($a,{severity:t.type,alertOpen:l,setAlertOpen:u,message:t.message}),Object(ce.jsx)(A.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(ce.jsxs)(Ft.a,{maxWidth:"lg",children:[Object(ce.jsx)(Bn,{showAddButton:!0,searchText:c,setSearchText:o}),Object(ce.jsx)(A.a,{sx:{pt:8,px:2},children:Object(ce.jsx)(Rt.a,{container:!0,spacing:5,children:a&&(a.posts.length>0?a.posts.map((function(e){return(e.title.toLowerCase().includes(c.toLowerCase())||e.description.toLowerCase().includes(c.toLowerCase()))&&Object(ce.jsx)(Rt.a,{item:!0,lg:6,md:6,xs:12,children:Object(ce.jsx)(Yn,{post:e})},e.id)})):null)})})]})})]})})),Wr={chat:{padding:"1rem",background:"#e0e0e0",maxWidth:"100%",borderTopRightRadius:"10px",borderTopLeftRadius:"0px",borderBottomLeftRadius:"10px",borderBottomRightRadius:"10px"}},Mr=function(e){var t=e.authorName,a=e.authorProfilePic,n=e.isTitle,r=e.isComment,c=e.comment,o=e.publishedDate;return Object(ce.jsxs)(Rt.a,{container:!0,alignItems:n?"center":"flex-start",sx:{flexWrap:"nowrap"},children:[Object(ce.jsx)(Rt.a,{item:!0,children:Object(ce.jsx)(ut.a,{alt:t,src:a,sx:{width:r?50:34,height:r?50:34,marginRight:.5,border:"1px solid white"}})}),Object(ce.jsxs)(Rt.a,{item:!0,children:[n&&Object(ce.jsx)(dt.a,{gutterBottom:!0,align:"left",variant:"caption",color:"textDefault",component:"p",children:"".concat(t," | ").concat(Wn()(o,"mmm dS, yyyy"))}),r&&Object(ce.jsxs)(A.a,{children:[Object(ce.jsx)(dt.a,{gutterBottom:!0,align:"left",variant:"subtitle2",color:"tertiary.main",component:"p",children:"".concat(t)}),Object(ce.jsx)(Ft.a,{sx:Wr.chat,children:Object(ce.jsx)(dt.a,{align:"left",variant:"h6",color:"textPrimary",component:"p",children:c})})]})]})]})},_r=a(406),Yr=Object(se.a)((function(e){return{root:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},textArea:{padding:10,minHeight:"90px",minWidth:"350px",border:"1px solid white",boxShadow:"1px 1px 3px 1px rgba(0, 0, 0, 0.1)",borderRadius:"3px",fontSize:"1.01rem",color:e.palette.customGray.shade900},errorTxt:{textAlign:"left",fontSize:"0.8rem",color:e.palette.error.main,margin:0,marginBottom:4},button:{border:0,margin:8,padding:"0 20px",height:35,boxShadow:"0 1px 4px 2px rgba(33, 159, 243, .3)"}}})),qr={margin:8,border:"2px solid red",borderRadius:"3px"},Gr={content:""},Hr=Object(s.b)((function(e){return{errors:e.errors}}),{createComment:function(e,t,a){return function(){var n=Object(L.a)(P.a.mark((function n(r){return P.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,R.a.post("/api/post/".concat(e,"/comment"),t);case 3:r({type:U,payload:{}}),window.location.href="/article/".concat(e),n.next=12;break;case 7:n.prev=7,n.t0=n.catch(0),r({type:U,payload:n.t0.response.data}),a("/article/".concat(e)),console.log(n.t0.response.data,n.t0.message);case 12:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()}})((function(e){var t=e.postId,a=e.errors,n=Yr(),r=Object(i.g)(),c=Vt(Gr),o=c.values,s=c.formErrors,l=c.setFormErrors,u=c.handleInputChange;Object(v.useEffect)((function(){l(a)}),[a]);var d=localStorage.jwtToken;return Object(ce.jsxs)(Jt,{onSubmit:function(a){a.preventDefault(),d?e.createComment(t,o,r):r("/user/login")},className:n.root,children:[Object(ce.jsx)("div",{style:a.content?qr:{},children:Object(ce.jsx)(_r.a,{className:n.textArea,"aria-label":"comment box",maxRows:10,placeholder:"Type your comment here",name:"content",id:"comment",error:s.content,value:o.content,onChange:u})}),s&&Object(ce.jsx)("p",{className:n.errorTxt,children:a.content}),Object(ce.jsx)(We.Buttons.Button,{className:n.button,text:"COMMENT",type:"submit"})]})})),Vr=Object(se.a)((function(e){return{root:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},container:Object(Ct.a)({margin:"45px auto 50px",width:"75%"},e.breakpoints.down("md"),{width:"90%"})}})),Xr=function(e){var t=e.postId,a=e.comments,n=Vr();return Object(ce.jsx)(A.a,{sx:{pt:4},children:Object(ce.jsxs)(Rt.a,{container:!0,className:n.root,children:[Object(ce.jsx)(Rt.a,{item:!0,children:Object(ce.jsx)(Hr,{postId:t})}),Object(ce.jsx)(Ft.a,{className:n.container,children:a?a.map((function(e){return Object(ce.jsx)(A.a,{sx:{marginTop:4},children:Object(ce.jsx)(Mr,{authorName:e.userName,authorProfilePic:e.userAvatar,publishedDate:e.created_At,isComment:!0,comment:e.content})},e.id)})):null})]})})},Jr=a(365),Kr=a.n(Jr),$r=a(364),Qr=a.n($r),Zr=Object(se.a)((function(e){var t;return{root:(t={flexDirection:"column",width:"75%"},Object(Ct.a)(t,e.breakpoints.down("md"),{width:"90%"}),Object(Ct.a)(t,"margin","auto"),Object(Ct.a)(t,"marginTop","-30vh"),t),headerMainGrid:{height:"100%",display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(0, 1fr))",justifyContent:"center",paddingBottom:"2rem"},headerContainer:{display:"flex",flexDirection:"column",color:"white"},titleText:{marginBottom:16},card:{padding:"50px 20px",boxShadow:"none","& .MuiTypography-root":{lineHeight:"1.8",fontSize:"1.09rem",textAlign:"justify",color:e.palette.grey[700]},"& p":{margin:0},"& p > img":{display:"block",maxHeight:"500px",maxWidth:"100%",margin:"10px auto"},"& iframe":{display:"block",height:"400px",width:"100%",margin:"15px auto"}}}})),ec=Object(s.b)((function(e){return{username:e.security.user.username}}),{likePost:function(e,t,a,n){return function(){var r=Object(L.a)(P.a.mark((function r(c){return P.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,R.a.post("/api/post/".concat(e,"/like"),t);case 3:c({type:U,payload:{}}),n(!0),r.next=12;break;case 7:r.prev=7,r.t0=r.catch(0),c({type:U,payload:r.t0.response.data}),a("/article/".concat(e)),console.log(r.t0.response.data,r.t0.message);case 12:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e){return r.apply(this,arguments)}}()},deleteLike:function(e,t,a){return function(){var n=Object(L.a)(P.a.mark((function n(r){return P.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,R.a.delete("/api/post/".concat(e,"/unlike"));case 3:a(!1),n.next=11;break;case 6:n.prev=6,n.t0=n.catch(0),r({type:U,payload:n.t0.response.data}),t("/article/".concat(e)),console.log(n.t0.response.data,n.t0.message);case 11:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(e){return n.apply(this,arguments)}}()}})((function(e){var t=e.post,a=e.username,n=Zr(),r=Object(i.g)(),c=Object(v.useState)(!1),o=Object(f.a)(c,2),s=o[0],l=o[1],u=Object(v.useState)(!1),d=Object(f.a)(u,2),j=d[0],b=d[1],p=Object(v.useRef)(!0);Object(v.useEffect)((function(){if(void 0!==t.likes)for(var e=0;e<t.likes.length;e++){if(t.likes[e].userName===a){l(!0);break}}return function(){p.current=!1}}),[t.id]);var x=localStorage.jwtToken,h=function(){var a=Object(L.a)(P.a.mark((function a(){return P.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!x){a.next=10;break}if(s){a.next=6;break}return a.next=4,e.likePost(t.id,{isLiked:!0},r,l);case 4:a.next=8;break;case 6:return a.next=8,e.deleteLike(t.id,r,l);case 8:a.next=11;break;case 10:r("/user/login");case 11:console.log("clicked",s);case 12:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(ce.jsxs)(Rt.a,{container:!0,className:n.root,children:[Object(ce.jsx)(Rt.a,{item:!0,className:n.headerMainGrid,children:Object(ce.jsxs)(Rt.a,{className:n.headerContainer,children:[Object(ce.jsx)(Rt.a,{item:!0,sx:{pb:1},children:Object(ce.jsx)(dt.a,{variant:"h1",align:"left",className:n.titleText,children:t.title})}),Object(ce.jsx)(Rt.a,{item:!0,children:Object(ce.jsx)(Mr,{authorName:t.author,authorProfilePic:t.authorAvatar,publishedDate:t.createdAt,isTitle:!0})})]})}),Object(ce.jsx)(Rt.a,{item:!0,children:Object(ce.jsx)(Wt.a,{className:n.card,children:Object(ce.jsxs)(Ft.a,{maxWidth:"lg",children:[Object(ce.jsx)(dt.a,{variant:"body1",align:"justify",dangerouslySetInnerHTML:{__html:t.content}}),Object(ce.jsxs)(A.a,{sx:{paddingTop:6},children:[Object(ce.jsx)(k.a,{onClick:h,children:Object(ce.jsx)(Qr.a,{color:s?"error":"disabled"})}),Object(ce.jsx)(k.a,{onClick:function(){return b(!j)},children:Object(ce.jsx)(Kr.a,{color:j?"primary":"inherit"})})]})]})})})]})})),tc=Object(se.a)((function(e){return{root:{height:"100%"},mainContainer:{height:"45vh",background:'linear-gradient(rgba(0,0,0,.9), rgba(0,0,0,.8)), url("/static/images/coverImg.jpg")',backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",color:e.palette.common.white}}})),ac=function(e){var t=e.post,a=tc();return Object(ce.jsx)(Rt.a,{container:!0,className:a.root,flexDirection:"column",children:Object(ce.jsxs)(Rt.a,{item:!0,children:[Object(ce.jsx)(Rt.a,{container:!0,className:a.mainContainer}),Object(ce.jsx)(ec,{post:t})]})})},nc=function(e){var t=e.authorName,a=e.authorProfilePic,n=e.publishedDate;return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(Rt.a,{item:!0,children:Object(ce.jsx)(ut.a,{alt:t,src:a,sx:{width:35,height:35}})}),Object(ce.jsxs)(Rt.a,{item:!0,children:[Object(ce.jsx)(dt.a,{align:"left",variant:"caption",color:"textSecondary",component:"p",children:t}),Object(ce.jsx)(dt.a,{align:"left",variant:"caption",color:"textSecondary",component:"p",children:n})]})]})},rc=Object(se.a)((function(e){return ar(e)})),cc=function(e){var t=e.title,a=e.description,n=e.image,r=e.imageHeight,c=e.href,o=e.authorName,s=e.authorProfilePic,i=e.publishedDate,l=Object(w.a)(e,["title","description","image","imageHeight","href","authorName","authorProfilePic","publishedDate"]),u=rc();return Object(ce.jsx)(rr,Object(C.a)(Object(C.a)({rootStyles:u.cardWithAvatar,title:t,description:a,image:n,imageHeight:r,href:c,titleTextVariant:"h4",contentTextVariant:"body2"},l),{},{children:Object(ce.jsx)(cr,{justifyContent:"flex-start",spacing:1,children:Object(ce.jsx)(nc,{authorName:o,authorProfilePic:s,publishedDate:Wn()(i,"mmm dS, yyyy")})})}))},oc=function(e){var t=e.relatedPosts;return Object(ce.jsxs)(Rt.a,{container:!0,children:[Object(ce.jsx)(Ft.a,{maxWidth:"lg",children:Object(ce.jsx)(dt.a,{gutterBottom:!0,variant:"h3",color:"textSecondary",children:"Related Posts"})}),t.length>0?t.slice(0,4).map((function(e){return Object(ce.jsx)(Rt.a,{item:!0,md:3,sm:6,xs:12,children:Object(ce.jsx)(cc,{title:e.title,image:e.coverImage,description:e.description,imageHeight:130,href:"/article/".concat(e.id),authorName:e.author,authorProfilePic:e.authorAvatar,publishedDate:e.createdAt})},e.id)})):null]})},sc=Object(s.b)((function(e){return{post:e.post.post,relatedPosts:e.post.relatedPosts}}),{getPost:jn,getRelatedPosts:function(e,t){return function(){var a=Object(L.a)(P.a.mark((function a(n){var r;return P.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,R.a.get("/api/posts/all/".concat(e,"/").concat(t));case 2:r=a.sent,n({type:Y,payload:r.data});case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=e.post,a=e.relatedPosts,n=Object(i.g)(),r=Object(i.h)().id,c=Object(v.useState)([]),o=Object(f.a)(c,2),s=o[0],l=o[1];function u(){return d.apply(this,arguments)}function d(){return(d=Object(L.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l(t.comments);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(v.useEffect)((function(){console.log("useEffect1",t),Object(L.a)(P.a.mark((function a(){return P.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.getPost(r,n);case 2:return a.next=4,e.getRelatedPosts(r,t.categoryName);case 4:return a.next=6,u();case 6:case"end":return a.stop()}}),a)})))()}),[t.id,r]),Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(Dt.a,{children:Object(ce.jsx)("title",{children:"Article | Language Learning Blog"})}),Object(ce.jsx)(A.a,{sx:{backgroundColor:"white",minHeight:"100%",pb:3},children:Object(ce.jsxs)(Rt.a,{container:!0,flexDirection:"column",children:[Object(ce.jsx)(Rt.a,{item:!0,children:Object(ce.jsx)(ac,{post:t})}),Object(ce.jsx)(Rt.a,{item:!0,children:Object(ce.jsx)(Ft.a,{maxWidth:"lg",sx:{margin:"auto",backgroundColor:"background.default"},children:Object(ce.jsx)(Xr,{postId:r,comments:s})})}),Object(ce.jsx)(Rt.a,{item:!0,children:Object(ce.jsx)(Ft.a,{maxWidth:"lg",sx:{margin:"auto"},children:Object(ce.jsx)(A.a,{sx:{pt:10},children:Object(ce.jsx)(oc,{relatedPosts:a})})})})]})})]})})),ic=Object(se.a)((function(e){return Ht(e)})),lc={border:0,padding:"0 30px",height:40,boxShadow:"0 1px 4px 2px rgba(33, 159, 243, .3)"},uc={name:""},dc=Object(s.b)((function(e){return{errors:e.errors}}),{createCategory:ae})((function(e){var t=e.errors,a=ic(),n=Object(i.g)(),r=y.a.useState(!1),c=Object(f.a)(r,2),o=c[0],s=c[1],l=y.a.useState(!1),u=Object(f.a)(l,2),d=u[0],j=u[1],b=Vt(uc),p=b.values,x=b.formErrors,h=b.setFormErrors,m=b.handleInputChange;Object(v.useEffect)((function(){h(t)}),[t]);var g=function(){var t=Object(L.a)(P.a.mark((function t(a){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),o||(j(!1),s(!0)),e.createCategory(p,n,s,j);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(ce.jsx)(Jt,{className:a.form,onSubmit:g,sx:{px:4},children:Object(ce.jsxs)(Wt.a,{sx:{px:2,pb:2,boxShadow:"".concat("-1px -1px 10px 2px rgba(0, 0, 0, 0.25)")},children:[Object(ce.jsx)(Rt.a,{container:!0,justifyContent:"center",sx:{py:5},children:Object(ce.jsx)(dt.a,{component:"h1",variant:"h3",color:"primary.light",children:"CREATE\xa0NEW\xa0CATEGORY"})}),Object(ce.jsx)(_t.a,{children:Object(ce.jsxs)(Rt.a,{container:!0,spacing:5,children:[Object(ce.jsx)(Rt.a,{item:!0,xs:12,children:Object(ce.jsx)(We.Input,{autoFocus:!0,required:!0,name:"name",id:"categoryName",label:"Category Name",error:x.name,value:p.name,onChange:m})}),Object(ce.jsx)(Rt.a,{container:!0,item:!0,xs:12,justifyContent:"flex-end",children:Object(ce.jsxs)(A.a,{sx:Gt.wrapper,children:[Object(ce.jsx)(We.Buttons.Button,{sx:Object(C.a)(Object(C.a)({},lc),Gt.buttonSuccess(d)),text:"ADD",type:"submit",disabled:o}),o&&Object(ce.jsx)(Yt.a,{size:25,sx:Gt.buttonProgress})]})})]})})]})})})),jc=function(){return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(Dt.a,{children:Object(ce.jsx)("title",{children:"Add Category | Language Learning Blog"})}),Object(ce.jsx)(A.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:4},children:Object(ce.jsx)(Ft.a,{maxWidth:"md",children:Object(ce.jsx)(Rt.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:Object(ce.jsx)(Rt.a,{item:!0,children:Object(ce.jsx)(dc,{})})})})})]})},bc=Object(s.b)(null,{deleteCategory:function(e){return function(){var t=Object(L.a)(P.a.mark((function t(a){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!window.confirm("Are you sure you want to delete this category")){t.next=6;break}return t.next=4,R.a.delete("/api/categories/id/".concat(e));case 4:a({type:Z,payload:e}),a({type:z,payload:{message:"Deleted succesfully",type:"success"}});case 6:t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.categories,a=e.searchText,n=Object(v.useState)(10),r=Object(f.a)(n,2),c=r[0],s=r[1],i=Object(v.useState)(0),l=Object(f.a)(i,2),u=l[0],d=l[1];return Object(ce.jsxs)(Wt.a,{children:[Object(ce.jsx)(ma.a,{children:Object(ce.jsx)(A.a,{sx:{minWidth:1050},children:Object(ce.jsxs)(ga.a,{children:[Object(ce.jsx)(Oa.a,{children:Object(ce.jsxs)(fa.a,{children:[Object(ce.jsx)(va.a,{children:"Category"}),Object(ce.jsx)(va.a,{children:"Created date"}),Object(ce.jsx)(va.a,{align:"center",children:"Actions"})]})}),Object(ce.jsx)(ya.a,{children:t.slice(u*c,u*c+c).map((function(t){return t.name.toLowerCase().includes(a.toLowerCase())&&Object(ce.jsxs)(fa.a,{hover:!0,children:[Object(ce.jsx)(va.a,{children:Object(ce.jsx)(A.a,{sx:{alignItems:"center",display:"flex"},children:Object(ce.jsx)(dt.a,{color:"textPrimary",variant:"body1",children:t.name})})}),Object(ce.jsx)(va.a,{children:xa()(t.created_At).format("DD/MM/YYYY")}),Object(ce.jsxs)(va.a,{align:"center",children:[Object(ce.jsx)(o.b,{to:"/app/manage/categories/updateCategory/".concat(t.id),children:Object(ce.jsx)(k.a,{style:{marginRight:3},children:Object(ce.jsx)(Na.a,{color:"secondary"})})}),Object(ce.jsx)(k.a,{style:{marginLeft:3},onClick:function(){return a=t.id,void e.deleteCategory(a);var a},children:Object(ce.jsx)(ka.a,{color:"error"})})]})]},t.id)}))})]})})}),Object(ce.jsx)(Ca.a,{component:"div",count:t.length,onPageChange:function(e,t){d(t)},onRowsPerPageChange:function(e){s(e.target.value)},page:u,rowsPerPage:c,rowsPerPageOptions:[5,10,25]})]})})),pc=function(e){var t=e.searchText,a=e.setSearchText,n=Object(w.a)(e,["searchText","setSearchText"]);return Object(ce.jsxs)(A.a,Object(C.a)(Object(C.a)({},n),{},{children:[Object(ce.jsx)(A.a,{sx:{display:"flex",justifyContent:"flex-end"},children:Object(ce.jsx)(We.Buttons.CreateButton,{href:"/app/manage/categories/addCategory",text:"ADD NEW CATEGORY"})}),Object(ce.jsx)(A.a,{sx:{mt:3},children:Object(ce.jsx)(We.SearchBar,{placeholder:"Search Category",searchText:t,setSearchText:a})})]}))},xc=Object(s.b)((function(e){return{categories:e.category.categories,alert:e.alert}}),{getCategories:ne})((function(e){var t=e.categories,a=e.alert,n=Object(v.useState)(""),r=Object(f.a)(n,2),c=r[0],o=r[1],s=Object(v.useState)(!1),i=Object(f.a)(s,2),l=i[0],u=i[1];return Object(v.useEffect)((function(){e.getCategories()}),[ne]),Object(v.useEffect)((function(){""!==a.message&&u(!0)}),[a]),Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(Dt.a,{children:Object(ce.jsx)("title",{children:"Categories | Language Learning Blog"})}),a&&Object(ce.jsx)($a,{severity:a.type,alertOpen:l,setAlertOpen:u,message:a.message}),Object(ce.jsx)(A.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(ce.jsxs)(Ft.a,{maxWidth:!1,children:[Object(ce.jsx)(pc,{searchText:c,setSearchText:o}),Object(ce.jsx)(A.a,{sx:{pt:3},children:Object(ce.jsx)(bc,{categories:t,searchText:c})})]})})]})})),hc=Object(se.a)((function(e){return Ht(e)})),mc={border:0,padding:"0 30px",height:40,boxShadow:"0 1px 4px 2px rgba(33, 159, 243, .3)"},gc={name:""},Oc=Object(s.b)((function(e){return{category:e.category.category,errors:e.errors}}),{getCategory:re,createCategory:ae})((function(e){var t=e.errors,a=e.category,n=hc(),r=Object(i.g)(),c=y.a.useState(!1),o=Object(f.a)(c,2),s=o[0],l=o[1],u=y.a.useState(!1),d=Object(f.a)(u,2),j=d[0],b=d[1],p=Vt(gc),x=p.values,h=p.setValues,m=p.formErrors,g=p.setFormErrors,O=p.handleInputChange,w=Object(i.h)().id;Object(v.useEffect)((function(){e.getCategory(w,r)}),[re]),Object(v.useEffect)((function(){h(Object(C.a)(Object(C.a)({},x),a))}),[a]),Object(v.useEffect)((function(){g(t)}),[t]);var N=function(){var t=Object(L.a)(P.a.mark((function t(a){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),s||(b(!1),l(!0)),e.createCategory(x,r,l,b);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(ce.jsx)(Jt,{className:n.form,onSubmit:N,sx:{px:4},children:Object(ce.jsxs)(Wt.a,{sx:{px:2,pb:2,boxShadow:"".concat("-1px -1px 10px 2px rgba(0, 0, 0, 0.25)")},children:[Object(ce.jsx)(Rt.a,{container:!0,justifyContent:"center",sx:{py:5},children:Object(ce.jsx)(dt.a,{component:"h1",variant:"h3",color:"primary.light",children:"CREATE\xa0NEW\xa0CATEGORY"})}),Object(ce.jsxs)(_t.a,{children:[Object(ce.jsx)(Rt.a,{sx:{display:"none"},children:Object(ce.jsx)(We.Input,{required:!0,disabled:!0,name:"id",id:"categoryId",label:"categoryId",type:"hidden",value:"".concat(x.id)})}),Object(ce.jsxs)(Rt.a,{container:!0,spacing:5,children:[Object(ce.jsx)(Rt.a,{item:!0,xs:12,children:Object(ce.jsx)(We.Input,{autoFocus:!0,required:!0,name:"name",id:"categoryName",label:"Category Name",error:m.name,value:x.name,onChange:O})}),Object(ce.jsx)(Rt.a,{container:!0,item:!0,xs:12,justifyContent:"flex-end",children:Object(ce.jsxs)(A.a,{sx:Gt.wrapper,children:[Object(ce.jsx)(We.Buttons.Button,{sx:Object(C.a)(Object(C.a)({},mc),Gt.buttonSuccess(j)),text:"UPDATE",type:"submit",disabled:s}),s&&Object(ce.jsx)(Yt.a,{size:25,sx:Gt.buttonProgress})]})})]})]})]})})})),fc=function(){return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(Dt.a,{children:Object(ce.jsx)("title",{children:"Update Category | Language Learning Blog"})}),Object(ce.jsx)(A.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:4},children:Object(ce.jsx)(Ft.a,{maxWidth:"md",children:Object(ce.jsx)(Rt.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:Object(ce.jsx)(Rt.a,{item:!0,children:Object(ce.jsx)(Oc,{})})})})})]})},vc=function(e,t){return[{path:"app",element:e?Object(ce.jsx)(At,{}):Object(ce.jsx)(i.a,{to:"/user/login"}),children:[{path:"account",element:Object(ce.jsx)(ba,{})},{path:"admin",element:e&&"USER"!==t.roleName?Object(ce.jsx)(i.b,{}):Object(ce.jsx)(i.a,{to:"/home"}),children:[{path:"posts/myPosts",element:Object(ce.jsx)(zr,{})},{path:"posts/addPost",element:Object(ce.jsx)(yr,{})},{path:"posts/updatePost/:id",element:Object(ce.jsx)(Lr,{})},{path:"/",element:Object(ce.jsx)(i.a,{to:"/app/admin/posts/myPosts"})}]},{path:"manage",element:e&&"SUPER_ADMIN"===t.roleName?Object(ce.jsx)(i.b,{}):Object(ce.jsx)(i.a,{to:"/home"}),children:[{path:"dashboard",element:Object(ce.jsx)(Nn,{})},{path:"users",element:Object(ce.jsx)(Qa,{})},{path:"posts",element:Object(ce.jsx)(qn,{})},{path:"categories",element:Object(ce.jsx)(xc,{})},{path:"users/adduser",element:Object(ce.jsx)(hr,{})},{path:"users/updateUser/:id",element:Object(ce.jsx)(Ur,{})},{path:"categories/addCategory",element:Object(ce.jsx)(jc,{})},{path:"categories/updateCategory/:id",element:Object(ce.jsx)(fc,{})},{path:"/",element:Object(ce.jsx)(i.a,{to:"/app/manage/dashboard"})}]},{path:"/",element:Object(ce.jsx)(i.a,{to:"/home"})}]},{path:"user",children:[{path:"login",element:Object(ce.jsx)(Ln,{})},{path:"register",element:Object(ce.jsx)(Jn,{})},{path:"/",element:Object(ce.jsx)(i.a,{to:"/user/login"})},{path:"*",element:Object(ce.jsx)(i.a,{to:"/404"})}]},{path:"/",element:Object(ce.jsx)(Bt,{}),children:[{path:"home",element:Object(ce.jsx)(Sr,{})},{path:"article/:id",element:Object(ce.jsx)(sc,{})},{path:"categories/:name",element:Object(ce.jsx)(lr,{})},{path:"404",element:Object(ce.jsx)(An,{})},{path:"/",element:Object(ce.jsx)(i.a,{to:"/home"})},{path:"*",element:Object(ce.jsx)(i.a,{to:"/404"})}]}]},yc=localStorage.jwtToken;if(yc){Qe(yc);var Cc=Object(Ze.a)(yc);Ja.dispatch({type:H,payload:Cc});var wc=Date.now()/1e3;Cc.exp<wc&&(Ja.dispatch(tt()),window.location.href="/user/login")}var Nc=function(){var e=Object(s.c)((function(e){return e.security})),t=e.validToken,a=e.user,n=Object(i.j)(vc(t,a));return Object(ce.jsxs)(l.a,{theme:O,children:[n,Object(ce.jsx)(u.a,{})]})};c.a.render(Object(ce.jsx)(s.a,{store:Ja,children:Object(ce.jsx)(o.a,{children:Object(ce.jsx)(Nc,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[534,1,2]]]);
//# sourceMappingURL=main.a1774098.chunk.js.map